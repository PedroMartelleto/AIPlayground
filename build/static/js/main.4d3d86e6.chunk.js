(this.webpackJsonpaiplayground=this.webpackJsonpaiplayground||[]).push([[0],{130:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(16),s=n(2),o=n(6),r=n(11),u=n(10),h=n(42),l=n(17),c=n(180),m=n(5),p=n(39),d=n(27),A=function(){function e(t,n,i){Object(s.a)(this,e),this.zero=void 0,this.positive=void 0,this.negative=void 0,this.zero=t,this.positive=n,this.negative=i}return Object(o.a)(e,[{key:"pick",value:function(e){return Math.abs(e)<.001?this.zero:e>0?this.positive:this.negative}}]),e}(),v=function(){function e(t,n,i){Object(s.a)(this,e),this.r=void 0,this.g=void 0,this.b=void 0,this.r=t,this.g=n,this.b=i}return Object(o.a)(e,null,[{key:"bezier",value:function(e){return e*e*(3-2*e)}}]),Object(o.a)(e,[{key:"transitionTo",value:function(t,n){var i=e.bezier(n);return new e((t.r-this.r)*i+this.r,(t.g-this.g)*i+this.g,(t.b-this.b)*i+this.b)}},{key:"equals",value:function(e){return this.r===e.r&&this.g===e.g&&this.b===e.b}},{key:"asString",value:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}]),e}(),g=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"transition",value:function(t,n){return e.fromColors[t]||(e.fromColors[t]=n),void 0===e.tMap[t]&&(e.tMap[t]=0),e.fromColors[t].equals(n)?(e.tMap[t]=0,e.fromColors[t]=n,n):(e.tMap[t]+=.064,e.tMap[t]>1&&(e.tMap[t]=1),e.fromColors[t].transitionTo(n,e.tMap[t]))}}]),e}();g.fromColors={},g.tMap={};var f=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"coordX",value:function(t,n){return(e.context.canvas.width-n)/2+(e.normX?e.context.canvas.width*t/2:t)}},{key:"coordY",value:function(t,n){return(e.context.canvas.height-n)/2-(e.normY?e.context.canvas.height*t/2:t)}},{key:"imageScaledRotated",value:function(t,n,i,a,s){var o=e.sizeX(t.naturalWidth*a),r=e.sizeY(t.naturalHeight*a),u=e.coordX(n,o),h=e.coordY(i,r),l=u+o/2,c=h+r/2;e.context.translate(l,c),e.context.rotate(s),e.context.translate(-l,-c),e.context.drawImage(t,u,h,o,r),e.context.setTransform(1,0,0,1,0,0)}},{key:"imageScaled",value:function(t,n,i,a){e.image(t,n,i,t.naturalWidth*a,t.naturalHeight*a)}},{key:"image",value:function(t,n,i,a,s){var o=e.sizeX(a<0?t.naturalWidth:a),r=e.sizeY(s<0?t.naturalHeight:s),u=e.coordX(n,o),h=e.coordY(i,r);e.context.drawImage(t,u,h,o,r)}},{key:"clear",value:function(){e.context.clearRect(0,0,e.context.canvas.clientWidth,e.context.canvas.clientHeight)}},{key:"width",value:function(){return e.context.canvas.clientWidth}},{key:"height",value:function(){return e.context.canvas.clientHeight}},{key:"rectClear",value:function(t,n,i,a){var s=e.sizeX(i),o=e.sizeY(a),r=e.coordX(t,s),u=e.coordY(n,o);e.context.clearRect(r,u,s,o)}},{key:"rectFill",value:function(t,n,i,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"red",o=e.sizeX(i),r=e.sizeY(a),u=e.coordX(t,o),h=e.coordY(n,r);e.context.fillStyle=s,e.context.fillRect(u,h,o,r)}},{key:"genome",value:function(t,n,i,a){var s=e.normX,o=e.normY,r=e.normWidth,u=e.normHeight;e.normX=e.normY=e.normWidth=e.normHeight=!1,e.context.lineWidth=1;var h,l=0,c=Object(m.a)(i.linkGenes);try{for(c.s();!(h=c.n()).done;){var p=h.value;p.isEnabled||e.rectFill(t+l,n-16,48,76,"#e4e4e4"),e.text(t+l,n,p.innovation.n+"","400 14px sans-serif",a),e.text(t+l,n-32,p.inNeuron.id+"->"+p.outNeuron.id,"400 14px sans-serif",a),e.rectStroke(t+l,n-16,48,76,a),l+=48}}catch(g){c.e(g)}finally{c.f()}l=0;var d,A=Object(m.a)(i.neuronGenes);try{for(A.s();!(d=A.n()).done;){var v=d.value;e.text(t+l,n-76,v.id+"","400 14px sans-serif",a),e.text(t+l,n-76-32,v.type,"400 14px sans-serif",a),e.rectStroke(t+l,n-76-16,48,76,a),l+=48}}catch(g){A.e(g)}finally{A.f()}e.normX=s,e.normY=o,e.normWidth=r,e.normHeight=u}},{key:"rectStroke",value:function(t,n,i,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"red",o=e.sizeX(i),r=e.sizeY(a),u=e.coordX(t,o),h=e.coordY(n,r);e.context.strokeStyle=s,e.context.strokeRect(u,h,o,r)}},{key:"arcFill",value:function(t,n,i,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;e.arcPath(t,n,i,s,o),e.context.fillStyle=a,e.context.fill()}},{key:"arcStroke",value:function(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"red",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;e.arcPath(t,n,i,o,r),e.context.strokeStyle=a,e.context.lineWidth=s,e.context.stroke()}},{key:"line",value:function(t,n,i,a,s){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,r=arguments.length>6?arguments[6]:void 0,u=s.asString();r&&(u=g.transition(r,s).asString()),e.context.lineWidth=o,e.context.strokeStyle=u;var h=e.coordX(t,0),l=e.coordY(n,0),c=e.coordX(i,0),m=e.coordY(a,0);e.context.beginPath(),e.context.moveTo(h,l),e.context.lineTo(c,m),e.context.closePath(),e.context.stroke()}},{key:"arrow",value:function(t,n,i,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"red",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:10,u=e.coordX(t,0),h=e.coordY(n,0),l=e.coordX(i,0),c=e.coordY(a,0),m=Math.atan2(c-h,l-u);e.context.lineWidth=o,e.context.strokeStyle=s,e.context.beginPath(),e.context.moveTo(u,h),e.context.lineTo(l,c),e.context.moveTo(l,c),e.context.lineTo(l-r*Math.cos(m-Math.PI/6),c-r*Math.sin(m-Math.PI/6)),e.context.moveTo(l,c),e.context.lineTo(l-r*Math.cos(m+Math.PI/6),c-r*Math.sin(m+Math.PI/6)),e.context.closePath(),e.context.stroke()}},{key:"text",value:function(t,n,i,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"red",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"center",r=e.coordX(t,0),u=e.coordY(n,0);e.context.fillStyle=s,e.context.font=a,e.context.textAlign=o,e.context.fillText(i,r,u)}},{key:"setLineDash",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t>0&&n>0?e.context.setLineDash([t,n]):e.context.setLineDash([])}},{key:"setLineCap",value:function(t){e.context.lineCap=t}},{key:"neuralNetwork",value:function(t,n,i,a,s,o,r){var u=e.sizeX(i),h=e.sizeY(a),l=e.coordX(t+2*i,u+e.context.canvas.width),c=e.coordY(n,h+e.context.canvas.height),p=e.normX,d=e.normY;e.normX=e.normY=!1;var A,f=Object(m.a)(o);try{for(f.s();!(A=f.n()).done;){var b=A.value,y=s[b.inIndex],w=s[b.outIndex],N=.5;if(r){var G,M=Object(m.a)(r.neurons);try{for(M.s();!(G=M.n()).done;){var D=G.value;if(y.id===D.id){N=D.output;break}}}catch(J){M.e(J)}finally{M.f()}}var k=l+u*-y.splitY,I=c+h*y.splitX,x=l+u*-w.splitY,C=c+h*w.splitX,O=Math.max(e.linkLineWidth*Math.abs(N),.5),S=new v(0,0,0);"output"===w.type?S=e.outputNeuronLine.pick(N):"hidden"===w.type?S=e.hiddenNeuronLine.pick(N):"input"===y.type&&(S=e.inputNeuronLine.pick(N)),e.context.shadowBlur=0,e.line(k,I,x,C,S,O,y.id+"T"+w.id)}}catch(J){f.e(J)}finally{f.f()}var B,Y=Object(m.a)(s);try{for(Y.s();!(B=Y.n()).done;){var j=B.value,R=l+u*-j.splitY,T=c+h*j.splitX,E=.5;if(r){var z,L=Object(m.a)(r.neurons);try{for(L.s();!(z=L.n()).done;){var F=z.value;if(j.id===F.id){E=F.output;break}}}catch(J){L.e(J)}finally{L.f()}}if("input"===j.type){var W=g.transition("N"+j.id,e.inputNeuron.pick(E)).asString();e.context.shadowBlur=e.inputNeuronShadowBlur*Math.abs(E),e.context.shadowColor=W,e.arcFill(R,T,e.inputNeuronRadius,W)}else if("hidden"===j.type){var Z=g.transition("N"+j.id,e.hiddenNeuron.pick(E)).asString(),P=e.hiddenNeuronShadowBlur*Math.abs(E);e.context.shadowBlur=P,e.context.shadowColor=Z,e.arcFill(R,T,e.hiddenNeuronRadius,Z)}else if("output"===j.type){var Q=g.transition("N"+j.id,e.outputNeuron.pick(E)).asString();e.context.shadowBlur=e.outputNeuronShadowBlur*Math.abs(E),e.context.shadowColor=Q,e.arcFill(R,T,e.outputNeuronRadius,Q)}}}catch(J){Y.e(J)}finally{Y.f()}e.normX=p,e.normY=d,e.context.shadowBlur=0,e.context.shadowColor="rgba(0, 0, 0, 0)"}},{key:"setTranslation",value:function(t,n){var i=e.normX?e.context.canvas.width*t/2:t,a=-(e.normY?e.context.canvas.height*n/2:n);e.context.setTransform(1,0,0,1,i,a)}},{key:"arcPath",value:function(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,o=e.sizeX(i),r=e.coordX(t,0),u=e.coordY(n,0);e.context.beginPath(),e.context.arc(r,u,o,a,s,!1)}},{key:"sizeX",value:function(t){return t*(e.normWidth?e.context.canvas.width:1)}},{key:"sizeY",value:function(t){return t*(e.normHeight?e.context.canvas.height:1)}}]),e}();f.context=void 0,f.normX=!1,f.normY=!1,f.normWidth=!1,f.normHeight=!1,f.inputNeuronLine=new A(new v(32,32,32),new v(209,125,119),new v(237,57,57)),f.hiddenNeuronLine=new A(new v(32,32,32),new v(115,150,255),new v(237,57,57)),f.outputNeuronLine=new A(new v(32,32,32),new v(124,217,133),new v(237,57,57)),f.inputNeuron=new A(new v(32,32,32),new v(209,209,209),new v(237,57,57)),f.hiddenNeuron=new A(new v(32,32,32),new v(115,150,255),new v(237,57,57)),f.outputNeuron=new A(new v(32,32,32),new v(76,237,118),new v(32,32,32)),f.linkLineWidth=1.5,f.linkColor="#454545",f.linkShadowBlur=2,f.inputNeuronShadowBlur=3,f.hiddenNeuronShadowBlur=10,f.outputNeuronShadowBlur=7,f.inputNeuronRadius=.01,f.hiddenNeuronRadius=.01,f.outputNeuronRadius=.01;var b=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"print",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2.5;e.latestLogs.push({text:t,displayTime:n,type:"print"}),e.printToConsole&&console.log(t)}},{key:"warn",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2.5;e.latestLogs.push({text:t,displayTime:n,type:"warn"}),e.printToConsole&&console.warn(t)}},{key:"error",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2.5;e.latestLogs.push({text:t,displayTime:n,type:"error"}),e.printToConsole&&console.error(t)}},{key:"render",value:function(t){var n,i=Object(m.a)(e.latestLogs);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.startTime||(a.startTime=performance.now(),e.logs.push(a))}}catch(u){i.e(u)}finally{i.f()}f.context=t,f.normX=!0;for(var s=-32,o=e.logs.length-1;o>=0;--o)if(performance.now()-e.logs[o].startTime>=1e3*e.logs[o].displayTime)e.logs.splice(o,1);else{var r="black";"warn"===e.logs[o].type?r="#b2880a":"error"===e.logs[o].type&&(r="red"),f.normY=!1,f.setTranslation(0,s),f.normY=!0,f.text(-.98,.98,e.logs[o].text,"400 13px sans-serif",r),s-=16}f.setTranslation(0,0)}}]),e}();b.printToConsole=!0,b.latestLogs=[],b.logs=[];var y=function(){function e(t,n,i,a){Object(s.a)(this,e),this.isWhole=!1,this.min=Number.NEGATIVE_INFINITY,this.max=Number.POSITIVE_INFINITY,this.value=void 0,this.name=void 0,this.familyName=void 0,this.formulaName=void 0,this.familyName=t,this.name=n,this.value=i,this.formulaName=a||n}return Object(o.a)(e,null,[{key:"addScalarsFromObjectToArray",value:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];null!=i.familyName&&null!=i.name&&null!=i.value&&null!=i.min&&null!=i.max&&null!=i.isWhole&&t.push(i)}}}]),Object(o.a)(e,[{key:"isValid",value:function(e){return this.min<=e&&e<=this.max&&(!this.isWhole||Number.isInteger(e))}},{key:"ranged",value:function(e,t){return this.min=e,this.max=t,this}},{key:"wholeNumber",value:function(){return this.isWhole=!0,this}}]),e}(),w=function(){function e(t,n,i,a){Object(s.a)(this,e),this.values=void 0,this.fileNames=void 0,this.name=void 0,this.familyName=void 0,this.type=void 0,this.familyName=t,this.name=n,this.values=[i],this.fileNames=[],this.type=a}return Object(o.a)(e,null,[{key:"addStringParamsFromObjectToArray",value:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];null!=i.familyName&&null!=i.name&&null!=i.values&&null!=i.type&&t.push(i)}}}]),e}(),N=function(){function e(t,n){Object(s.a)(this,e),this.modelName=void 0,this.env=void 0,this.paramsArray=void 0,this.stringParamsArray=void 0,this.index=void 0,this.hasDoneFirstEval=void 0,this.modelName=t,this.paramsArray=[],this.stringParamsArray=[],this.env=n,this.index=-1,this.hasDoneFirstEval=!1}return Object(o.a)(e,[{key:"reset",value:function(e){var t,n=Object(m.a)(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,s=Object(m.a)(this.paramsArray);try{for(s.s();!(i=s.n()).done;){var o=i.value;o.familyName===a.familyName&&o.name===a.name&&(o.value=a.value)}}catch(r){s.e(r)}finally{s.f()}}}catch(r){n.e(r)}finally{n.f()}this.resetState()}},{key:"lifecycle",value:function(e,t){if(!(this.index>=t.length))if(this.index>=0){if(this.act(),this.env.step(e)){if(t[this.index].fitness=this.env.fitness(),++this.index,this.index>t.length-1)return this.index=-1,void(this.hasDoneFirstEval=!0);this.prepareForIndividual(t[this.index]),this.env.prepareForNewIndividual()}}else this.hasDoneFirstEval&&(this.env.prepareForEpoch(),this.epoch()),this.index=0,this.prepareForIndividual(t[this.index]),this.env.prepareForNewIndividual()}},{key:"addParamsFromObject",value:function(e){y.addScalarsFromObjectToArray(e,this.paramsArray),w.addStringParamsFromObjectToArray(e,this.stringParamsArray)}},{key:"addParam",value:function(e){return this.paramsArray.push(e),e}}]),e}(),G=n(46),M=function e(){Object(s.a)(this,e),this.matchingGenesA=[],this.matchingGenesB=[],this.disjointGenesA=[],this.disjointGenesB=[],this.excessGenesA=[],this.excessGenesB=[]},D=function e(){Object(s.a)(this,e),this.fitness=0},k=function(){function e(t,n,i,a,o){Object(s.a)(this,e),this.inNeuron=void 0,this.outNeuron=void 0,this.weight=void 0,this.isEnabled=void 0,this.innovation=void 0,this.inNeuron=t,this.outNeuron=n,this.weight=i,this.isEnabled=a,this.innovation=o}return Object(o.a)(e,[{key:"clone",value:function(t,n){return new e(t,n,this.weight,this.isEnabled,this.innovation)}}]),e}(),I=function e(t,n,i){Object(s.a)(this,e),this.id=void 0,this.input=void 0,this.output=void 0,this.id=t,this.input=n,this.output=i},x=function e(t,n,i){Object(s.a)(this,e),this.id=void 0,this.input=void 0,this.output=void 0,this.id=t,this.input=n,this.output=i},C=function(){function e(t,n){Object(s.a)(this,e),this.neurons=void 0,this.precisionMul=100,this.neurons=[],this.precisionMul=Math.pow(10,n);for(var i=0;i<t.neuronGenes.length;++i){var a=t.neuronGenes[i];this.neurons.push(new x(a.id,"","")),"input"!==a.type&&0!==a.bias&&(this.neurons[i].input=""+this.numberToStr(a.bias))}}return Object(o.a)(e,[{key:"feedForward",value:function(e){var t,n=Object(m.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.isEnabled&&i.inNeuron.id!==i.outNeuron.id){var a=this.getNeuronIndexByID(i.inNeuron.id),s=this.getNeuronIndexByID(i.outNeuron.id),o=this.neurons[s].input?"+":"",r=this.numberToStr(i.weight);r.startsWith("-")&&(o=""),this.neurons[s].input=this.appendToStr(this.neurons[s].input,o+r+"*"+this.neurons[a].output)}}}catch(u){n.e(u)}finally{n.f()}}},{key:"getNeuronIndexByID",value:function(e){for(var t=0;t<this.neurons.length;++t)if(this.neurons[t].id===e)return t;return console.warn("Runtime index requested for invalid ID: "+e),-1}},{key:"getNeuronDataByID",value:function(e){var t,n=Object(m.a)(this.neurons);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.id===e)return i}}catch(a){n.e(a)}finally{n.f()}console.warn("Runtime data requested for invalid ID: "+e)}},{key:"activateNeuron",value:function(e){if("hidden"!==e.type&&"output"!==e.type)return console.warn("Tried to activate an input neuron!"),"NULL";var t=this.getNeuronIndexByID(e.id);if(e.loopedLink){var n=this.neurons[t].input?"+":"";this.neurons[t].input=this.appendToStr(this.neurons[t].input,n+this.numberToStr(e.loopedLink.weight)+"*M"+t)}return this.neurons[t].output=this.appendToStr(this.neurons[t].output,"\ud835\udefc("+this.neurons[t].input+")"),this.neurons[t].output}},{key:"appendToStr",value:function(t,n){return t.length+n.length<=e.maximumStringLength?t+n:(console.warn("Attempted to append to dst a string with length "+n.length+". Dst length is: "+t.length+"."),t)}},{key:"numberToStr",value:function(e){return String(Math.round(e*this.precisionMul)/this.precisionMul)}}]),e}();C.maximumStringLength=134217718;var O=function(){function e(t){Object(s.a)(this,e),this.genome=void 0,this.neurons=[],this.rnnMemory=[],this.hasActivated=!1,this.genome=t}return Object(o.a)(e,[{key:"generateFormula",value:function(e,t){var n=new C(this.genome,t),i=[];return this.genome.iterate((function(t,i,a){var s=n.getNeuronIndexByID(t.id);return n.neurons[s].input=n.neurons[s].output=e[s],n.feedForward(i),!1}),(function(e,t,i){return n.activateNeuron(e),n.feedForward(t),!1}),(function(e,t){return n.activateNeuron(e),i.push(n.getNeuronDataByID(e.id).output),!1})),i.map((function(e){return e.replace(/1\*/g,"").replace(/\*1/g,"").replace(/\*/g,"")}))}},{key:"activate",value:function(e){if(e.length!==this.genome.inputCount)return console.warn("Tried to activate a phenotype passing an incorrect number of inputs for the original genome. Genome input count: ".concat(this.genome.inputCount,". Passed input count: ").concat(e.length,".")),[];this.prepareForActivation();var t=[],n=this;return this.genome.iterate((function(t,i,a){var s=n.getNeuronIndexByID(t.id);return n.neurons[s].input=n.neurons[s].output=e[s],n.feedForward(i),!1}),(function(e,t,i){return n.activateNeuron(e),n.feedForward(t),!1}),(function(e,i){return n.activateNeuron(e),t.push(n.getNeuronDataByID(e.id).output),!1})),this.hasActivated=!0,t}},{key:"prepareForActivation",value:function(){if(this.hasActivated){this.rnnMemory=[];var e,t=Object(m.a)(this.neurons);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.rnnMemory.push(new I(n.id,n.input,n.output))}}catch(s){t.e(s)}finally{t.f()}}for(var i=0;i<this.genome.neuronGenes.length;++i){var a=this.genome.neuronGenes[i];this.hasActivated||this.neurons.push(new I(a.id,0,0)),"input"===a.type?this.neurons[i].input=0:this.neurons[i].input=a.bias,this.neurons[i].output=0}}},{key:"activateNeuron",value:function(e){if("hidden"!==e.type&&"output"!==e.type)return console.warn("Tried to activate a input neuron!"),-1;var t,n=this.getNeuronIndexByID(e.id);return e.loopedLink&&this.hasActivated&&(this.neurons[n].input+=e.loopedLink.weight*this.rnnMemory[n].output),this.neurons[n].output=(t=this.neurons[n].input,2/(1+Math.exp(-4.9*t))-1),this.neurons[n].output}},{key:"feedForward",value:function(e){var t,n=Object(m.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.isEnabled&&i.inNeuron.id!==i.outNeuron.id){var a=this.getNeuronIndexByID(i.inNeuron.id),s=this.getNeuronIndexByID(i.outNeuron.id);this.neurons[s].input+=i.weight*this.neurons[a].output}}}catch(o){n.e(o)}finally{n.f()}}},{key:"getNeuronIndexByID",value:function(e){for(var t=0;t<this.neurons.length;++t)if(this.neurons[t].id===e)return t;return console.warn("Runtime index requested for invalid ID: "+e),-1}},{key:"getNeuronDataByID",value:function(e){var t,n=Object(m.a)(this.neurons);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.id===e)return i}}catch(a){n.e(a)}finally{n.f()}console.warn("Runtime data requested for invalid ID: "+e)}}]),e}();var S=function(){function e(t,n,i,a){Object(s.a)(this,e),this.loopedLink=void 0,this.id=void 0,this.type=void 0,this.splitX=void 0,this.splitY=void 0,this.bias=void 0,this.id=t,this.type=n,this.splitX=i,this.splitY=a,"input"!==n&&(this.bias=0)}return Object(o.a)(e,[{key:"clone",value:function(){var t=new e(this.id,this.type,this.splitX,this.splitY);return"input"!==this.type&&(t.bias=this.bias),t}}]),e}(),B=n(74),Y=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"randomInt",value:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},{key:"shuffle",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}}},{key:"stochasticRound",value:function(e){var t=Math.floor(e),n=e-t;return Math.random()<n?t+1:t}}]),e}(),j=function e(t,n,i){Object(s.a)(this,e),this.id=void 0,this.inNeuron=void 0,this.outNeuron=void 0,this.id=t,this.inNeuron=n,this.outNeuron=i},R=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"mutate",value:function(t,n){t.fitness=0,t.adjustedFitness=0,t.phenotype=void 0,t.neuronGenes.length-t.inputCount-t.outputCount<n.maxNumberOfHiddenNeurons.value&&e.addHiddenNeuronMutation(t,n.hiddenNeuronMutationRate.value),e.addLinkMutation(t,n.linkMutationRate.value,n.linkMutationChanceOfConsideringLoopedRecurrency.value),e.weightsMutation(t,n.weightMutationRateForEachLink.value,n.weightMutationProbNewVal.value,n.weightMutationMaxPertubation.value,n.weightMutationNewValRange.value),e.biasesMutation(t,n.biasMutationRateForEachLink.value,n.biasMutationProbNewVal.value,n.biasMutationMaxPertubation.value,n.biasMutationNewValRange.value)}},{key:"addLinkMutation",value:function(e,t,n){if(!(Math.random()>=t)){for(var i=[],a=0;a<e.neuronGenes.length;++a)for(var s=0;s<e.neuronGenes.length;++s)e.neuronGenes[a].id!==e.neuronGenes[s].id&&i.push({from:a,to:s});if(Math.random()<n)for(var o=0;o<e.neuronGenes.length;++o)i.push({from:o,to:o});Y.shuffle(i);for(var r=0,u=i;r<u.length;r++){var h=u[r],l=h.from,c=h.to;if("input"!==e.neuronGenes[c].type&&!e.isDuplicateLink(e.neuronGenes[l].id,e.neuronGenes[c].id)){if(c===l){if(e.neuronGenes[l].loopedLink)continue}else if("output"===e.neuronGenes[l].type)continue;if(l!==c&&e.isLinkPotentialLoop(e.neuronGenes[l],e.neuronGenes[c]))continue;return void e.community.addLinkToGenome(e,e.neuronGenes[l],e.neuronGenes[c],4*Math.random()-2,!0)}}}}},{key:"addHiddenNeuronMutation",value:function(e,t){if(!(Math.random()>=t)){var n,i=[],a=Object(m.a)(e.linkGenes);try{for(a.s();!(n=a.n()).done;){var s=n.value;s.isEnabled&&s.inNeuron.id!==s.outNeuron.id&&i.push(s)}}catch(l){a.e(l)}finally{a.f()}if(!(i.length<=0)){var o=i[e.linkGenes.length===e.inputCount*e.outputCount||e.neuronGenes.length>=e.inputCount+e.outputCount+5?Y.randomInt(0,i.length-1):Y.randomInt(0,i.length-Math.floor(Math.sqrt(i.length))-1)];o.isEnabled=!1;var r=e.community.findNeuronIDForMutationAtLink(o.inNeuron,o.outNeuron),u=r<0;r>=0&&e.hasNeuronWithID(r)&&(r=-1),r<0&&(++e.maxNeuronID,r=e.maxNeuronID),u&&e.community.neuronGenesRecords.push(new j(r,o.inNeuron,o.outNeuron));var h=new S(r,"hidden",(o.inNeuron.splitX+o.outNeuron.splitX)/2,(o.inNeuron.splitY+o.outNeuron.splitY)/2);e.neuronGenes.push(h),e.community.addLinkToGenome(e,o.inNeuron,h,1,!0),e.community.addLinkToGenome(e,h,o.outNeuron,o.weight,!0)}}}},{key:"weightsMutation",value:function(e,t,n,i,a){var s,o=Object(m.a)(e.linkGenes);try{for(o.s();!(s=o.n()).done;){var r=s.value;Math.random()<t&&(Math.random()>=n?r.weight+=(2*Math.random()-1)*i*(1-t):r.weight=Math.random()*a*2-a)}}catch(u){o.e(u)}finally{o.f()}}},{key:"biasesMutation",value:function(e,t,n,i,a){var s,o=Object(m.a)(e.neuronGenes);try{for(o.s();!(s=o.n()).done;){var r=s.value;"input"!==r.type&&(Math.random()<t&&(Math.random()>=n?r.bias+=(2*Math.random()-1)*i*(1-t):r.bias=Math.random()*a*2-a))}}catch(u){o.e(u)}finally{o.f()}}}]),e}(),T=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(e,i,a){var o;return Object(s.a)(this,n),(o=t.call(this)).community=void 0,o.species=void 0,o.id=void 0,o.inputCount=void 0,o.outputCount=void 0,o.neuronGenes=[],o.inputNeuronGenes=[],o.linkGenes=[],o.phenotype=void 0,o.adjustedFitness=0,o.maxNeuronID=0,o.id=a,o.inputCount=e,o.outputCount=i,o}return Object(o.a)(n,null,[{key:"fromCommunity",value:function(e){++e.maxGenomeID;var t=new n(e.inputCount,e.outputCount,e.maxGenomeID);return t.community=e,t}},{key:"fromJSON",value:function(e){var t=JSON.parse(e),i=new n(JSON.parse(t.inputCount),JSON.parse(t.outputCount),JSON.parse(t.id));return i.neuronGenes=JSON.parse(t.neuronGenes),i.inputNeuronGenes=JSON.parse(t.inputNeuronGenes),i.linkGenes=JSON.parse(t.linkGenes),i.adjustedFitness=JSON.parse(t.adjustedFitness),i.maxNeuronID=JSON.parse(t.maxNeuronID),i}}]),Object(o.a)(n,[{key:"toJSON",value:function(){return JSON.stringify({id:JSON.stringify(this.id),inputCount:JSON.stringify(this.inputCount),outputCount:JSON.stringify(this.outputCount),neuronGenes:JSON.stringify(this.neuronGenes),inputNeuronGenes:JSON.stringify(this.inputNeuronGenes),linkGenes:JSON.stringify(this.linkGenes),adjustedFitness:JSON.stringify(this.adjustedFitness),maxNeuronID:JSON.stringify(this.maxNeuronID)})}},{key:"saveWithName",value:function(e){var t=new Blob([this.toJSON()],{type:"text/plain;charset=utf-8"});Object(B.saveAs)(t,e)}},{key:"createPhenotype",value:function(){return this.phenotype=new O(this),this.phenotype}},{key:"sortGenes",value:function(){this.neuronGenes.sort((function(e,t){return e.id-t.id})),this.linkGenes.sort((function(e,t){return e.innovation.n-t.innovation.n}))}},{key:"compatibilityDistance",value:function(e,t){if(this.id===e.id)return 0;var n=this.community.alignAlleleGenes(this,e),i=Math.max(this.linkGenes.length,e.linkGenes.length);i<=0&&console.warn("Tried to calculate the compatibility distance of two genomes with no linkGenes");for(var a=0,s=0;s<n.matchingGenesA.length;++s)a+=Math.abs(n.matchingGenesA[s].weight-n.matchingGenesB[s].weight);return a/=n.matchingGenesA.length,t.excessGenesCoefficient.value/i*(n.excessGenesA.length+n.excessGenesB.length)+t.disjointGenesCoefficient.value/i*(n.disjointGenesA.length+n.disjointGenesB.length)+t.weightsCoefficient.value*a}},{key:"initMinimalGenome",value:function(){var e=.5/this.community.inputCount,t=.5/this.community.outputCount;this.inputNeuronGenes=[],this.neuronGenes=[],this.maxNeuronID=0;for(var n=0;n<this.community.inputCount;++n)++this.maxNeuronID,this.inputNeuronGenes.push(new S(this.maxNeuronID,"input",(n+1)/this.community.inputCount-e,1)),this.neuronGenes.push(this.inputNeuronGenes[n]);for(var i=0;i<this.community.outputCount;++i)++this.maxNeuronID,this.neuronGenes.push(new S(this.maxNeuronID,"output",(i+1)/this.community.outputCount-t,0));for(var a=0;a<this.community.inputCount;++a)for(var s=0;s<this.community.outputCount;++s)Math.random()<this.community.params.probOfMakingLinkInInitialGenome.value&&this.community.addLinkToGenome(this,this.neuronGenes[a],this.neuronGenes[s+this.community.inputCount],2*Math.random()-1,!0);if(this.linkGenes.length<=0){var o=Y.randomInt(0,this.community.inputCount-1),r=Y.randomInt(0,this.community.outputCount-1);this.community.addLinkToGenome(this,this.neuronGenes[o],this.neuronGenes[r+this.community.inputCount],2*Math.random()-1,!0)}return this}},{key:"isDuplicateLink",value:function(e,t){var n,i=Object(m.a)(this.linkGenes);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.inNeuron.id===e&&a.outNeuron.id===t)return!0}}catch(s){i.e(s)}finally{i.f()}return!1}},{key:"getNeuronIndexByID",value:function(e){for(var t=0;t<this.neuronGenes.length;++t)if(this.neuronGenes[t].id===e)return t;return console.warn("Tried to get neuron passing an invalid neuronID "+e+" in genome "+this.id),-1}},{key:"getNeuronByID",value:function(e,t){var n,i=Object(m.a)(this.neuronGenes);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.id===e)return a}}catch(s){i.e(s)}finally{i.f()}t&&console.warn("Tried to get neuron passing an invalid neuronID "+e+" in genome "+this.id)}},{key:"hasNeuronWithID",value:function(e){var t,n=Object(m.a)(this.neuronGenes);try{for(n.s();!(t=n.n()).done;){if(t.value.id===e)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"iterate",value:function(e,t,n){for(var i=[],a=0;a<this.inputNeuronGenes.length;++a){var s=this.getNonLoopedLinksWithSource(this.inputNeuronGenes[a]);if(Array.prototype.push.apply(i,s),e(this.inputNeuronGenes[a],s,a))break}e:for(;i.length>0;){for(var o=[],r=0;r<i.length;++r){var u=this.getNonLoopedLinksWithSource(i[r].outNeuron);if(Array.prototype.push.apply(o,u),u.length>0&&t(i[r].outNeuron,u,r))break e}i=o}for(var h=0;h<this.neuronGenes.length&&("output"!==this.neuronGenes[h].type||!n(this.neuronGenes[h],h));++h);}},{key:"hasLoop",value:function(){var e=[],t=!1;return this.iterate((function(e,t,n){return!1}),(function(n,i,a){e.push(n.id);var s,o=Object(m.a)(i);try{for(o.s();!(s=o.n()).done;){var r=s.value;if(e.indexOf(r.outNeuron.id)>=0)return t=!0,!0}}catch(u){o.e(u)}finally{o.f()}return!1}),(function(e,t){return!1})),t}},{key:"isLinkPotentialLoop",value:function(e,t){this.linkGenes.push(new k(e,t,1,!0,void 0));var n=this.hasLoop();return this.linkGenes.pop(),n}},{key:"getNonLoopedOutIDsFromInIDs",value:function(e){var t,n=new Array,i=Object(m.a)(this.linkGenes);try{for(i.s();!(t=i.n()).done;){var a,s=t.value,o=Object(m.a)(e);try{for(o.s();!(a=o.n()).done;){var r=a.value;s.inNeuron.id===r&&s.inNeuron.id!==s.outNeuron.id&&n.push(s.outNeuron.id)}}catch(u){o.e(u)}finally{o.f()}}}catch(u){i.e(u)}finally{i.f()}return n}},{key:"getNonLoopedLinksWithSource",value:function(e){var t,n=new Array,i=Object(m.a)(this.linkGenes);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.inNeuron.id===e.id&&a.inNeuron.id!==a.outNeuron.id&&n.push(a)}}catch(s){i.e(s)}finally{i.f()}return n}},{key:"createOffspring",value:function(e){var t=this.clone();return R.mutate(t,e),t}},{key:"clone",value:function(){var e=n.fromCommunity(this.community);e.phenotype=void 0,e.fitness=this.fitness,e.adjustedFitness=this.adjustedFitness,e.species=this.species,e.maxNeuronID=this.maxNeuronID;var t,i=Object(m.a)(this.linkGenes);try{for(i.s();!(t=i.n()).done;){var a=t.value;e.copyLinkAndNeuronsToGenome(a)}}catch(s){i.e(s)}finally{i.f()}return e}},{key:"copyLinkAndNeuronsToGenomeAndMaybeDisable",value:function(e,t,n){var i=this.copyNeuronToGenome(e.inNeuron),a=this.copyNeuronToGenome(e.outNeuron),s=!0;t&&Math.random()<n&&(s=!1),this.linkGenes.push(new k(i,a,e.weight,s,e.innovation))}},{key:"copyLinkAndNeuronsToGenome",value:function(e){var t=this.copyNeuronToGenome(e.inNeuron),n=this.copyNeuronToGenome(e.outNeuron);this.linkGenes.push(new k(t,n,e.weight,e.isEnabled,e.innovation))}},{key:"copyNeuronToGenome",value:function(e){var t=this.getNeuronByID(e.id,!1);if(t)return t;if(t=e.clone(),e.loopedLink){var n=e.loopedLink.clone(t,t);t.loopedLink=n}return this.neuronGenes.push(t),"input"===t.type&&this.inputNeuronGenes.push(t),t}}]),n}(D),E=function e(t,n,i){Object(s.a)(this,e),this.n=void 0,this.inNeuron=void 0,this.outNeuron=void 0,this.n=t,this.inNeuron=n,this.outNeuron=i},z=function(){function e(t){Object(s.a)(this,e),this.probs=void 0,this.indexes=void 0,this.probs=t,this.indexes=new Array(this.probs.length);for(var n=0;n<t.length;++n)this.indexes[n]=n;this.normalize()}return Object(o.a)(e,[{key:"length",value:function(){return this.probs.length}},{key:"removeAt",value:function(e){this.probs.splice(e,1),this.indexes.splice(e,1),this.normalize()}},{key:"randomlySelect",value:function(){console.assert(this.probs.length>0,"Tried to pick from an empty ProbabilityArray!");for(var e=Math.random(),t=0,n=0;n<this.probs.length;n++)if((t+=this.probs[n])>e)return this.indexes[n];for(var i=0;i<this.probs.length;++i)if(0!==this.probs[i])return this.indexes[i];return console.warn("Found a probabilities array filled with zero probabilities."),0}},{key:"normalize",value:function(){console.assert(this.probs.length>0,"Tried to normalize an empty ProbabilityArray!");var e,t=0,n=Object(m.a)(this.probs);try{for(n.s();!(e=n.n()).done;){t+=e.value}}catch(r){n.e(r)}finally{n.f()}if(t<=1e-6)for(var i=1/this.probs.length,a=0;a<this.probs.length;++a)this.probs[a]=i;if(!(Math.abs(1-t)<1e-6))for(var s=1/t,o=0;o<this.probs.length;++o)this.probs[o]*=s}}]),e}(),L=function(){function e(t,n,i,a){Object(s.a)(this,e),this.params=void 0,this.inputCount=void 0,this.outputCount=void 0,this.populationSize=void 0,this.speciationAlgorithm=void 0,this.genomes=[],this.species=[],this.maxGenomeID=0,this.maxSpeciesID=0,this.neuronGenesRecords=[],this.linkGenesRecords=[],this.innovationNumber=0,this.generationCounter=0,this.bestSpeciesIndex=0,this.bestGenome=void 0,this.bestFitnesses=[],this.meanFitnesses=[],this.params=t,this.inputCount=n,this.outputCount=i,this.speciationAlgorithm=a,this.populationSize=this.params.initialGenomeCount.value,console.assert(Number.isFinite(this.populationSize)&&this.populationSize>0,"Population size must be a non zero natural number.")}return Object(o.a)(e,[{key:"init",value:function(){this.genomes=[];for(var e=0;e<this.params.initialGenomeCount.value;++e){var t=T.fromCommunity(this).initMinimalGenome();this.genomes.push(t)}this.speciationAlgorithm.init(this.genomes,this.params.initialSpeciesCount.value),this.species=this.speciationAlgorithm.result,this.assertForNoEmptySpecies()}},{key:"crossover",value:function(e,t){if(e.id===t.id)return console.warn("Called crossover with momID === dadID. This should never happen."),e.clone();var n=e,i=t;(t.fitness>e.fitness||e.fitness===t.fitness&&Math.floor(2*Math.random()))&&(n=t,i=e),console.assert(i.fitness<=n.fitness,"The fittest parent has not been chosen correctly."),console.assert(n.id!==i.id,"The fittest parent has not been chosen correctly.");var a=this.alignAlleleGenes(n,i),s=T.fromCommunity(this);s.maxNeuronID=n.maxNeuronID;for(var o=0;o<a.matchingGenesA.length;++o){var r=!a.matchingGenesA[o].isEnabled||!a.matchingGenesB[o].isEnabled;Math.floor(2*Math.random())?s.copyLinkAndNeuronsToGenomeAndMaybeDisable(a.matchingGenesA[o],r,this.params.offspringLinkDisableRate.value):s.copyLinkAndNeuronsToGenomeAndMaybeDisable(a.matchingGenesB[o],r,this.params.offspringLinkDisableRate.value)}var u,h=Object(m.a)(a.disjointGenesA);try{for(h.s();!(u=h.n()).done;){var l=u.value;s.copyLinkAndNeuronsToGenome(l)}}catch(A){h.e(A)}finally{h.f()}var c,p=Object(m.a)(a.excessGenesA);try{for(p.s();!(c=p.n()).done;){var d=c.value;s.copyLinkAndNeuronsToGenome(d)}}catch(A){p.e(A)}finally{p.f()}return s.species=n.species,s}},{key:"epoch",value:function(){var e;console.log("Epoch start"),this.generationCounter+=1,this.sortEachSpecies(),this.updateBestGenome(),this.updateStats();var t=this.computeSpeciesStats(),n=this.createOffspring();console.assert(t===n.length,"The number of offspring created (".concat(n.length,") does not match the desired amount (").concat(t,")."));var i=this.trimSpeciesBackToElite();this.updateGenomesArray(),(e=this.genomes).push.apply(e,Object(G.a)(n)),console.log("Speciation start"),i?(this.speciationAlgorithm.respeciateAll(this.genomes,n),this.species=this.speciationAlgorithm.result):(this.speciationAlgorithm.integrateNewGenomes(this.genomes,n),this.species=this.speciationAlgorithm.result),this.assertForNoEmptySpecies(),console.log("Speciation end"),this.sortEachSpecies(),this.updateBestGenome(),console.assert(this.genomes.length===this.populationSize,"Population size must be equal to the genome count after epoch."),console.log("Epoch end")}},{key:"findNeuronIDForMutationAtLink",value:function(e,t){var n,i=Object(m.a)(this.neuronGenesRecords);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.inNeuron.id===e.id&&a.outNeuron.id===t.id)return a.id}}catch(s){i.e(s)}finally{i.f()}return-1}},{key:"determineInnovationForLink",value:function(e,t){var n,i=Object(m.a)(this.linkGenesRecords);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.inNeuron.id===e.id&&a.outNeuron.id===t.id)return a.innovation}}catch(o){i.e(o)}finally{i.f()}this.innovationNumber++;var s=new E(this.innovationNumber,e,t);return this.linkGenesRecords.push({inNeuron:e,outNeuron:t,innovation:s}),s}},{key:"addLinkToGenome",value:function(e,t,n,i,a){var s=new k(t,n,i,a,this.determineInnovationForLink(t,n));t.id===n.id&&(t.loopedLink=s),e.linkGenes.push(s)}},{key:"alignAlleleGenes",value:function(e,t){e.sortGenes(),t.sortGenes();var n=new M;if(e.id===t.id)return n.matchingGenesA=e.linkGenes,n.matchingGenesB=e.linkGenes,n;if(e.linkGenes.length<=0||t.linkGenes.length<=0)return n.matchingGenesA=[],console.error("Tried to align allele genes of invalid genome(s). Link Genes in A: ".concat(e.linkGenes.length,". Link Genes in B: ").concat(t.linkGenes.length)),n;var i,a=e.linkGenes[e.linkGenes.length-1].innovation.n,s=t.linkGenes[t.linkGenes.length-1].innovation.n,o=Math.max(a,s),r=new Array(o).fill(void 0),u=new Array(o).fill(void 0),h=Object(m.a)(e.linkGenes);try{for(h.s();!(i=h.n()).done;){var l=i.value;r[l.innovation.n-1]=l}}catch(f){h.e(f)}finally{h.f()}var c,p=Object(m.a)(t.linkGenes);try{for(p.s();!(c=p.n()).done;){var d=c.value;u[d.innovation.n-1]=d}}catch(f){p.e(f)}finally{p.f()}for(var A=0;A<o;++A){var v=r[A],g=u[A];v&&g?(n.matchingGenesA.push(v),n.matchingGenesB.push(g)):v?A+1>s?n.excessGenesA.push(v):n.disjointGenesA.push(v):g&&(A+1>a?n.excessGenesB.push(g):n.disjointGenesB.push(g))}return n}},{key:"assertForNoEmptySpecies",value:function(){var e,t=!0,n=Object(m.a)(this.species);try{for(n.s();!(e=n.n()).done;){if(e.value.genomes.length<=0){t=!1;break}}}catch(i){n.e(i)}finally{n.f()}console.assert(t,"One or more species are empty. It is likely that speciation was not done correctly.")}},{key:"updateStats",value:function(){var e,t=0,n=Object(m.a)(this.genomes);try{for(n.s();!(e=n.n()).done;){t+=e.value.fitness}}catch(i){n.e(i)}finally{n.f()}t/=this.genomes.length,this.meanFitnesses[this.generationCounter-1]=t}},{key:"computeSpeciesStats",value:function(){var e,t=0,n=0,i=Object(m.a)(this.species);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.genomes.length<=0&&console.warn("Found a species with no members while running NEAT."),a.computeAdjustedFitnesses(this.params),t+=a.meanAdjustedFitness}}catch(C){i.e(C)}finally{i.f()}var s,o=Object(m.a)(this.species);try{for(o.s();!(s=o.n()).done;){var r=s.value;r.computeSpawnCount(t),n+=r.spawnCount}}catch(C){o.e(C)}finally{o.f()}var u=n-this.populationSize;if(u<0)if(-1===u)this.species[this.bestSpeciesIndex].spawnCount++,n+=1;else{for(var h=new Array(this.species.length),l=0;l<this.species.length;++l)h[l]=Math.max(0,this.species[l].spawnCountReal-this.species[l].spawnCount);for(var c=new z(h),p=0;p<Math.abs(u);++p){var d=c.randomlySelect();this.species[d].spawnCount+=1,this.species[d].spawnCountReal=this.species[d].spawnCount,n+=1,c.length()>1&&c.removeAt(d)}}else if(u>0){for(var A=new Array(this.species.length),v=0;v<this.species.length;++v)A[v]=Math.max(0,this.species[v].spawnCount-this.species[v].spawnCountReal);for(var g=new z(A),f=0;f<Math.abs(u);++f){var b=g.randomlySelect();this.species[b].spawnCount-=1,this.species[b].spawnCountReal=this.species[b].spawnCount,n-=1,g.length()>1&&g.removeAt(b)}}if(console.assert(this.populationSize===n,"The total spawn count (".concat(n,") is different from the expected population size (").concat(this.populationSize,").")),this.species[this.bestSpeciesIndex].spawnCount<=0){this.species[this.bestSpeciesIndex].spawnCount+=1;var y=this.species.slice();Y.shuffle(y);var w,N=Object(m.a)(y);try{for(N.s();!(w=N.n()).done;){var G=w.value;G.spawnCount>0&&G.id!==this.species[this.bestSpeciesIndex].id&&(G.spawnCount-=1,G.spawnCountReal-=1,G.spawnCountReal=Math.max(0,G.spawnCountReal))}}catch(C){N.e(C)}finally{N.f()}}for(var M=0,D=0;D<this.species.length;++D){var k=this.species[D];if(k.spawnCount<=0)k.eliteSize=0;else{var I=k.genomes.length*this.params.speciesEliteProportion.value,x=Math.min(Y.stochasticRound(I),k.spawnCount);D===this.bestSpeciesIndex&&x<=0&&(console.assert(this.species[this.bestSpeciesIndex].genomes.length>0,"The best species must have at least one genome."),x=1),k.eliteSize=x,k.offspringCount=k.spawnCount-x,k.computeOffspringStats(this.params.offspringAsexualProportion.value,this.params.fittestParentsCutoffProportion.value),M+=k.offspringCount}}return M}},{key:"createOffspring",value:function(){var e,t=new Array,n=0,i=0,a=0,s=Object(m.a)(this.species);try{for(s.s();!(e=s.n()).done;){var o=e.value;if(n+=o.asexualReproductionCount,i+=o.sexualReproductionCount,a+=o.eliteSize,!(o.offspringCount<=0)){for(var r=new Array(o.genomes.length),u=0,h=0;h<o.genomes.length;++h)r[h]=o.genomes[h].fitness,0!==r[h]&&(u+=1);if(u<=0)for(var l=0;l<o.genomes.length;++l)r[l]=1;if(o.asexualReproductionCount>0)for(var c=new z(r),p=0;p<o.asexualReproductionCount;++p){var d=c.randomlySelect();t.push(o.genomes[d].createOffspring(this.params))}if(o.sexualReproductionCount>0&&o.fittestParentsCutoff<=o.genomes.length)for(var A=r.splice(0,o.fittestParentsCutoff),v=0;v<o.sexualReproductionCount;++v){var g=new z(A.slice()),f=g.randomlySelect();if(g.length()>1){g.removeAt(f);var b=g.randomlySelect(),y=this.crossover(o.genomes[f],o.genomes[b]);t.push(y)}else t.push(o.genomes[f].createOffspring(this.params))}}}}catch(w){s.e(w)}finally{s.f()}return console.log("Offspring Report. Asexual: ".concat(n,", Sexual: ").concat(i," and Elite: ").concat(a,".")),t}},{key:"trimSpeciesBackToElite",value:function(){var e,t=!1,n=!1,i=Object(m.a)(this.species);try{for(i.s();!(e=i.n()).done;){var a=e.value;console.assert(a.eliteSize<=a.spawnCount&&a.eliteSize<=a.genomes.length,"Some of the elite genomes for this species do not exist!"),a.eliteSize<=0||a.spawnCount<=0?(a.genomes=[],t=!0):(a.genomes=a.genomes.splice(0,a.eliteSize),this.bestGenome&&a.genomes[0].id===this.bestGenome.id&&(n=!0))}}catch(s){i.e(s)}finally{i.f()}return console.assert(n,"The best genome has not been passed to the next generation as elite."),t}},{key:"updateGenomesArray",value:function(){this.genomes=[];var e,t=Object(m.a)(this.species);try{for(t.s();!(e=t.n()).done;){var n,i=e.value;(n=this.genomes).push.apply(n,Object(G.a)(i.genomes))}}catch(a){t.e(a)}finally{t.f()}}},{key:"sortEachSpecies",value:function(){var e,t=Object(m.a)(this.species);try{for(t.s();!(e=t.n()).done;){e.value.sortGenomes()}}catch(n){t.e(n)}finally{t.f()}}},{key:"updateBestGenome",value:function(){if(this.generationCounter<=0)console.warn("Tried to call update best genome before epoch!");else{this.generationCounter-1>=this.bestFitnesses.length&&this.bestFitnesses.push(-1),this.bestGenome=void 0,this.bestFitnesses[this.generationCounter-1]=-1;for(var e=0;e<this.species.length;++e){this.species[e].spawnCount=0,this.species[e].offspringCount=0,this.species[e].sexualReproductionCount=0,this.species[e].asexualReproductionCount=0;var t=this.species[e].genomes[0];t.fitness>this.bestFitnesses[this.generationCounter-1]&&(this.bestFitnesses[this.generationCounter-1]=t.fitness,this.bestGenome=t,this.bestSpeciesIndex=e)}}}},{key:"generationCount",get:function(){return this.generationCounter}}]),e}(),F=function e(){Object(s.a)(this,e),this.showLog=new y("Universal","Show errors",1).wholeNumber().ranged(0,1),this.initialGenomeCount=new y("Universal","Initial genome count",180).wholeNumber().ranged(1,2e3),this.initialSpeciesCount=new y("Universal","Initial species count",40).wholeNumber().ranged(1,2e3),this.probOfMakingLinkInInitialGenome=new y("Epoch","Probability of Making Each Link In Initial Genome",.1).ranged(1e-4,1),this.excessGenesCoefficient=new y("Epoch","Sharing excess coefficient (C1)",1).ranged(1e-4,10),this.disjointGenesCoefficient=new y("Epoch","Sharing disjoint coefficient (C2)",1).ranged(1e-4,10),this.weightsCoefficient=new y("Epoch","Sharing weights coefficient (C3)",.4).ranged(1e-4,10),this.shThreshold=new y("Epoch","Sharing threshold",3).ranged(1e-4,10),this.interspeciesMatingRate=new y("Epoch","Interspecies mating rate",0).ranged(1e-5,1),this.offspringLinkDisableRate=new y("Epoch","Sharing threshold",.75).ranged(1e-4,1),this.minSpeciesCompatibilityDistance=new y("Epoch","Min species compatibility distance",.2).ranged(1e-4,3),this.maxStagnationAllowed=new y("Epoch","Max species stagnation",15).wholeNumber().ranged(1,200),this.speciesEliteProportion=new y("Epoch","Species elite proportion",.1).ranged(0,1),this.offspringAsexualProportion=new y("Epoch","Asexual reproduction proportion",.75).ranged(0,1),this.fittestParentsCutoffProportion=new y("Epoch","Parents proportion amongst fittest",.5).ranged(0,1),this.maxNumberOfHiddenNeurons=new y("Mutation","Max Number of Hidden Neurons",40).wholeNumber().ranged(0,500),this.hiddenNeuronMutationRate=new y("Mutation","Hidden Neuron Mutation Rate",.25).ranged(0,1),this.linkMutationRate=new y("Mutation","Link Mutation Rate",.7).ranged(0,1),this.linkMutationChanceOfConsideringLoopedRecurrency=new y("Mutation","Chance of Considering Looped Recurrencies",0).ranged(0,1),this.weightMutationRateForEachLink=new y("Mutation","Weight Mutation Rate For Each Link",.9).ranged(0,1),this.weightMutationProbNewVal=new y("Mutation","New Weight Value Mutation Rate",.1).ranged(0,1),this.biasMutationRateForEachLink=new y("Mutation","Bias Mutation Rate For Each Link",.2).ranged(0,1),this.biasMutationProbNewVal=new y("Mutation","New Bias Value Mutation Rate",.07).ranged(0,1),this.weightMutationMaxPertubation=new y("Mutation","Weight Mutation Max Pertubation",.5).ranged(0,1),this.weightMutationNewValRange=new y("Mutation","New Weight Value Mutation Range",3).ranged(0,1),this.biasMutationMaxPertubation=new y("Mutation","Bias Mutation Max Pertubation",.5).ranged(0,1),this.biasMutationNewValRange=new y("Mutation","New Bias Value Mutation Range",3).ranged(0,1)},W=function(){function e(){Object(s.a)(this,e),this.species=[]}return Object(o.a)(e,[{key:"result",get:function(){return this.species}}]),e}(),Z=function(){function e(t,n){Object(s.a)(this,e),this.community=void 0,this.id=void 0,this.gensStagnated=0,this.meanAdjustedFitness=0,this.spawnCount=0,this.spawnCountReal=0,this.eliteSize=0,this.offspringCount=0,this.asexualReproductionCount=0,this.sexualReproductionCount=0,this.fittestParentsCutoff=0,this.leader=void 0,this.genomes=[],this.community=t,++t.maxSpeciesID,this.id=t.maxSpeciesID,this.leader=n,this.genomes.push(this.leader)}return Object(o.a)(e,[{key:"computeOffspringStats",value:function(e,t){if(this.offspringCount<=0)return this.asexualReproductionCount=0,this.sexualReproductionCount=0,void(this.fittestParentsCutoff=0);var n=this.offspringCount*e;this.asexualReproductionCount=Y.stochasticRound(n),this.sexualReproductionCount=this.offspringCount-this.asexualReproductionCount;var i=this.genomes.length*t;this.fittestParentsCutoff=Math.min(Math.max(2,Y.stochasticRound(i)),this.genomes.length),1===this.fittestParentsCutoff&&(this.asexualReproductionCount+=this.sexualReproductionCount,this.sexualReproductionCount=0)}},{key:"computeSpawnCount",value:function(e){this.spawnCountReal=0===e?this.community.genomes.length/this.community.species.length:this.meanAdjustedFitness/e*this.community.genomes.length,this.spawnCount=Y.stochasticRound(this.spawnCountReal)}},{key:"computeAdjustedFitnesses",value:function(e){var t,n,i,a=0,s=Object(m.a)(this.genomes);try{for(s.s();!(t=s.n()).done;){var o,r=t.value,u=0,h=Object(m.a)(this.genomes);try{for(h.s();!(o=h.n()).done;){var l=o.value;u+=(n=r.compatibilityDistance(l,e),i=e.shThreshold.value,n>i?0:1)}}catch(c){h.e(c)}finally{h.f()}u<=0&&console.warn("Found a species with a genome that has zero sharing."),r.adjustedFitness=r.fitness/u,a+=r.adjustedFitness}}catch(c){s.e(c)}finally{s.f()}a/=this.genomes.length,this.meanAdjustedFitness=a}},{key:"sortGenomes",value:function(){this.genomes.sort((function(e,t){return t.fitness-e.fitness}))}}]),e}();var P=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this)).speciesCount=0,i.params=void 0,i.params=e,i}return Object(o.a)(n,[{key:"init",value:function(e,t){this.speciesCount=t,this.species=new Array(t);for(var n=0,i=0;n<e.length;)i>this.species.length-1&&(i=0),this.species[i]?this.species[i].genomes.push(e[n]):this.species[i]=new Z(e[0].community,e[n]),e[n].species=this.species[i],n+=1,i+=1}},{key:"respeciateAll",value:function(e,t){for(var n=this.species.length-1;n>=0;--n)this.species[n].genomes.length<=0&&this.species.splice(n,1);this.integrateNewGenomes(e,t)}},{key:"integrateNewGenomes",value:function(e,t){var n;this.updateLeaders(e);var i,a=[],s=Object(m.a)(t);try{for(s.s();!(i=s.n()).done;){var o=i.value;if(o.species)if(o.compatibilityDistance(o.species.leader,this.params)<this.params.minSpeciesCompatibilityDistance.value){var r,u=Object(m.a)(this.species);try{for(u.s();!(r=u.n()).done;){var h=r.value;if(h.id!==o.species.id)if(o.compatibilityDistance(o.species.leader,this.params)<this.params.minSpeciesCompatibilityDistance.value){o.species=h,h.genomes.push(o);break}}}catch(f){u.e(f)}finally{u.f()}}else if(a.length+this.species.length<this.speciesCount)a.push(new Z(o.community,o));else{var l,c,p=Number.POSITIVE_INFINITY,d=void 0,A=Object(m.a)(a);try{for(A.s();!(c=A.n()).done;){var v=c.value,g=o.compatibilityDistance(v.leader,this.params);g<p&&(d=v,p=g)}}catch(f){A.e(f)}finally{A.f()}o.compatibilityDistance(o.species.leader,this.params)<p&&(d=o.species),o.species=d,null===(l=d)||void 0===l||l.genomes.push(o)}else console.warn("Could not find parent species.")}}catch(f){s.e(f)}finally{s.f()}(n=this.species).push.apply(n,a)}},{key:"updateLeaders",value:function(e){var t,n,i=0,a=0,s=Object(m.a)(this.species);try{for(s.s();!(n=s.n()).done;){var o=n.value;t=o.genomes[0];var r,u=Object(m.a)(e);try{for(u.s();!(r=u.n()).done;){var h=r.value;if(h.id===o.leader.id){t=h;break}if(!h.species||h.species.id===o.id){var l=h.compatibilityDistance(o.leader,this.params);++a,l<i&&(t=h,i=l)}}}catch(c){u.e(c)}finally{u.f()}null==t&&console.error("Could not find new leader for a species. Unspeciated count: "+a+", Genome count: "+e.length),t=t}}catch(c){s.e(c)}finally{s.f()}}}]),n}(W),Q=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,"neat",e)).params=new F,i.community=void 0,i.phenotype=void 0,i.currentGenome=void 0,i.shouldStop=!1,i.savedGenomeCount=0,i.latexFormula=[],i.popDrawIndex=0,i.popDrawData=[],b.printToConsole=!0,i.addParamsFromObject(i.params),i.resetState(),i}return Object(o.a)(n,[{key:"resetState",value:function(){var e=new P(this.params);this.community=new L(this.params,this.env.obsCount(),this.env.actionsCount(),e),this.community.init(),this.phenotype=void 0,this.currentGenome=void 0,this.populationData()}},{key:"prepareForIndividual",value:function(e){if(this.env.saveRequestedName&&(this.currentGenome.saveWithName(this.env.saveRequestedName),this.env.saveRequestedName=void 0),this.env&&this.env.hasReachedGoal)this.goalReached();else if(e){var t=e;this.currentGenome=t,this.phenotype=t.createPhenotype(),++this.popDrawIndex}else console.warn("Tried preparing for null individual!")}},{key:"goalReached",value:function(){console.log("Fitness Goal Reached. Ending algorithm..."),this.currentGenome&&this.currentGenome.saveWithName("best.genome"),this.shouldStop=!0}},{key:"act",value:function(){if(this.phenotype){var e,t=0,n=this.phenotype.activate(this.env.obsValues()),i=Object(m.a)(this.env.actions);try{for(i.s();!(e=i.n()).done;){var a=e.value,s=0;s=n[t]>=0?1:0,a.value=s,++t}}catch(o){i.e(o)}finally{i.f()}}}},{key:"draw",value:function(e){if(f.context=e,f.clear(),this.community){if(b.render(e),f.setTranslation(0,0),f.normX=f.normY=!0,f.normWidth=f.normHeight=!0,f.text(-.98,.94,"Gen "+(this.community.generationCount+1),"300 18px sans-serif","black","left"),this.community.bestGenome&&f.text(-.68,.94,"Best: "+Math.round(100*this.community.bestGenome.fitness)/100,"Arial","black"),this.community.bestFitnesses.length>0){var t=this.community.bestFitnesses[this.community.generationCount-1];f.text(0,.94,"Gen Best: "+Math.round(100*t)/100,"Arial","black")}this.popDrawIndex>=0&&f.text(-.98,.85,"Fitness: "+Math.round(100*this.env.fitness())/100,"Arial","green","left"),this.popDrawIndex>=0&&f.text(0,.85,"Species: "+this.community.species.length,"Arial","black","left"),this.popDrawIndex>=0&&(f.normX=f.normY=!0,f.normWidth=f.normHeight=!0,this.popDrawData&&this.popDrawData[this.popDrawIndex]&&this.popDrawData[this.popDrawIndex].neurons&&this.phenotype&&(f.linkShadowBlur=0,f.inputNeuronShadowBlur=10,f.hiddenNeuronShadowBlur=20,f.outputNeuronShadowBlur=10,f.inputNeuronRadius=.005,f.hiddenNeuronRadius=.006,f.outputNeuronRadius=.0065,f.linkLineWidth=1,f.neuralNetwork(0,0,.4,.95,this.popDrawData[this.popDrawIndex].neurons,this.popDrawData[this.popDrawIndex].links,this.phenotype)))}}},{key:"loop",value:function(e){this.shouldStop||(this.env.hasReachedGoal?this.goalReached():Object(p.a)(Object(d.a)(n.prototype),"lifecycle",this).call(this,e,this.community?this.community.genomes:[]))}},{key:"epoch",value:function(){this.community&&(this.community.epoch(),this.community.bestGenome&&this.savedGenomeCount<this.community.generationCount&&(this.community.bestGenome.saveWithName("gen"+this.community.generationCount+".genome"),this.savedGenomeCount+=1),console.log("Best fitnesses: ",this.community.bestFitnesses),console.log("Mean fitnesses: ",this.community.meanFitnesses),this.populationData())}},{key:"populationData",value:function(){var e=this;if(this.community){this.popDrawIndex=-1,this.popDrawData=[];var t,n=Object(m.a)(this.community.genomes);try{var i=function(){var n=t.value,i={links:n.linkGenes.map((function(e){return{inIndex:n.getNeuronIndexByID(e.inNeuron.id),outIndex:n.getNeuronIndexByID(e.outNeuron.id),isEnabled:!1}})),neurons:n.neuronGenes.map((function(e){return{splitX:e.splitX,splitY:e.splitY,type:e.type,id:e.id}}))};e.popDrawData.push(i)};for(n.s();!(t=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}}}}]),n}(N),J=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,"randomAgent",e)).individuals=[],i.shouldStop=!1,i.resetState(),i}return Object(o.a)(n,[{key:"resetState",value:function(){this.individuals=[new D]}},{key:"prepareForIndividual",value:function(e){}},{key:"draw",value:function(e){}},{key:"goalReached",value:function(){this.shouldStop=!0}},{key:"loop",value:function(e){this.shouldStop||(this.env.hasReachedGoal?this.goalReached():Object(p.a)(Object(d.a)(n.prototype),"lifecycle",this).call(this,e,this.individuals))}},{key:"act",value:function(){var e,t=Object(m.a)(this.env.actions);try{for(t.s();!(e=t.n()).done;){var n=e.value;Number.isFinite(n.min)&&Number.isFinite(n.max)?n.isWhole?n.value=Math.random()*(n.max-n.min+1)+n.min:n.value=Math.random()*(n.max-n.min)+n.min:n.value=2*Math.random()-1,n.isWhole&&(n.value=Math.round(n.value))}}catch(i){t.e(i)}finally{t.f()}}},{key:"epoch",value:function(){}}]),n}(N),U=function(){function e(t){Object(s.a)(this,e),this.modelName=void 0,this.actions=void 0,this.paramsArray=[],this.hasReachedGoal=!1,this.saveRequestedName=void 0,this.obsArray=void 0,this.modelName=t,this.actions=[],this.obsArray=[],this.paramsArray=[]}return Object(o.a)(e,[{key:"reset",value:function(e){var t,n=Object(m.a)(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,s=Object(m.a)(this.paramsArray);try{for(s.s();!(i=s.n()).done;){var o=i.value;o.familyName===a.familyName&&o.name===a.name&&(o.value=a.value)}}catch(r){s.e(r)}finally{s.f()}}}catch(r){n.e(r)}finally{n.f()}this.resetState()}},{key:"requestSave",value:function(e){this.saveRequestedName=e}},{key:"actionsCount",value:function(){return this.actions.length}},{key:"obsCount",value:function(){return this.obsArray.length}},{key:"obsFormulaNames",value:function(){return this.obsArray.map((function(e){return e.formulaName}))}},{key:"obsValues",value:function(){return this.obsArray.map((function(e){return e.value}))}},{key:"addParamsFromObject",value:function(e){y.addScalarsFromObjectToArray(e,this.paramsArray)}},{key:"addObsFromObject",value:function(e){y.addScalarsFromObjectToArray(e,this.obsArray)}},{key:"addActionsFromObject",value:function(e){y.addScalarsFromObjectToArray(e,this.actions)}},{key:"addParam",value:function(e){return this.paramsArray.push(e),e}},{key:"addObs",value:function(e){return this.obsArray.push(e),e}},{key:"addAction",value:function(e){return this.actions.push(e),e}}]),e}(),H=function e(){Object(s.a)(this,e),this.cartPosition=new y("Cart","Position",0,"x").ranged(.001,1e3),this.cartVelocity=new y("Cart","Velocity",0,"v").ranged(.001,1e3),this.poleAngle=new y("Pole","Angle",0,"\u03b8").ranged(-60,60),this.poleVelocity=new y("Pole","Angular Velocity",0,"\u03c9").ranged(-3e3,3e3)},X=function e(){Object(s.a)(this,e),this.trackLength=new y("Universal","Track Length",2.4).ranged(.001,50),this.gravity=new y("Universal","Gravity",9.68).ranged(.001,100),this.cartMass=new y("Cart","Mass",1).ranged(.001,100),this.cartForceLength=new y("Cart","Force Length",.15).ranged(.001,100),this.poleLength=new y("Pole","Length",1.2).ranged(.001,100),this.poleMaxAngle=new y("Pole","Max Angle Degrees",45).ranged(.001,60),this.poleMass=new y("Pole","Pole Mass",.1).ranged(.001,100),this.cartWidth=new y("Draw","Cart Width",84).ranged(.001,512),this.cartHeight=new y("Draw","Cart Height",51).ranged(.001,512),this.wheelRadius=new y("Draw","Wheel Radius",10).ranged(.001,128)},V=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this,"poleBalancing")).angularAcc=0,e.cartAcc=0,e.numberOfSteps=0,e.params=new X,e.obs=new H,e.actionMoveDirection=new y("Cart","Move Direction",0).wholeNumber().ranged(0,1),e.addParamsFromObject(e.params),e.addObsFromObject(e.obs),e.addAction(e.actionMoveDirection),e.resetState(),e}return Object(o.a)(n,[{key:"resetState",value:function(){this.prepareForNewIndividual()}},{key:"prepareForEpoch",value:function(){this.numberOfSteps=0}},{key:"prepareForNewIndividual",value:function(){this.numberOfSteps=0,this.cartAcc=0,this.angularAcc=0,this.obs.poleAngle.value=0,this.obs.poleVelocity.value=0,this.obs.cartPosition.value=0,this.obs.cartVelocity.value=0}},{key:"step",value:function(e){var t=1===this.actionMoveDirection.value?1:-1,n=this.params.poleMass.value,i=this.params.cartMass.value,a=t*this.params.cartForceLength.value,s=this.params.poleLength.value,o=this.obs.poleVelocity.value*this.obs.poleVelocity.value,r=this.params.gravity.value,u=Math.sin(this.obs.poleAngle.value),h=Math.cos(this.obs.poleAngle.value);return this.angularAcc=(r*u+h*((-a-n*s*o*u)/(i+n)))/(s*(4/3-n*h*h/(i+n))),this.cartAcc=(a+n*s*(o*u-this.angularAcc*h))/(i+n),this.obs.cartPosition.value+=this.obs.cartVelocity.value*e,this.obs.cartVelocity.value+=this.cartAcc*e,this.obs.poleAngle.value+=this.obs.poleVelocity.value*e,this.obs.poleVelocity.value+=this.angularAcc*e,++this.numberOfSteps,this.numberOfSteps>1e4&&(this.hasReachedGoal=!0),Math.abs(this.obs.cartPosition.value)>=this.params.trackLength.value||Math.abs(this.obs.poleAngle.value)>=Math.PI/180*this.params.poleMaxAngle.value}},{key:"draw",value:function(e){f.context=e,f.clear(),b.render(e);var t=this.obs.cartPosition.value/this.params.trackLength.value;f.setLineCap("butt"),f.setTranslation(0,0),f.normX=f.normWidth=!0,f.normHeight=f.normY=!1,f.rectFill(0,-this.params.cartHeight.value/2-this.params.wheelRadius.value,1,5,"#222222"),f.normX=!0,f.setTranslation(t,0),f.normWidth=!1,f.rectFill(0,0,this.params.cartWidth.value,this.params.cartHeight.value,"#CEAA61"),f.normX=f.normY=!1,f.arcFill((2*this.params.wheelRadius.value-this.params.cartWidth.value)/2+1,-this.params.cartHeight.value/2,this.params.wheelRadius.value,"#333333"),f.arcFill((2*-this.params.wheelRadius.value+this.params.cartWidth.value)/2-1,-this.params.cartHeight.value/2,this.params.wheelRadius.value,"#333333"),f.normX=f.normY=!1,f.normWidth=f.normHeight=!1;var n=1===this.actionMoveDirection.value?-1:1,i=500*this.params.cartForceLength.value;f.setLineDash(),f.arrow(n*(this.params.cartWidth.value/2+i),0,n*this.params.cartWidth.value/2,0,"#A0A0A0",3,8),f.text(n*(this.params.cartWidth.value+i)/2,8,"F","500 italic 19px Times New Roman","#222222"),f.setLineDash(4,8),f.line(0,this.params.cartHeight.value/2,0,this.params.cartHeight.value/2+72,new v(160,160,160),3),f.setLineDash(),f.setLineCap("round"),f.normWidth=f.normHeight=!0;var a=this.params.poleLength.value/this.params.trackLength.value,s=Math.cos(this.obs.poleAngle.value+Math.PI/2)*a,o=Math.sin(this.obs.poleAngle.value+Math.PI/2)*a;f.normX=!0,f.setTranslation(t,this.params.cartHeight.value/2),f.normX=f.normY=!0,f.line(0,0,s,o,new v(34,34,34),3),f.setTranslation(t,0),f.normWidth=f.normHeight=!1,f.setLineCap("square"),f.normX=f.normY=!1;this.obs.poleAngle.value>0?f.arcStroke(0,this.params.cartHeight.value/2,48,"#A0A0A0",3,1.5*Math.PI-this.obs.poleAngle.value,1.5*Math.PI):f.arcStroke(0,this.params.cartHeight.value/2,48,"#A0A0A0",3,1.5*Math.PI,1.5*Math.PI-this.obs.poleAngle.value)}},{key:"fitness",value:function(){return this.numberOfSteps}}]),n}(U),K=function e(){Object(s.a)(this,e),this.deltaX=new y("Bird","Delta X",0,"\u0394x").ranged(-1,1),this.deltaY=new y("Bird","Delta Y",0,"\u0394y").ranged(-1,1)},q=function e(){Object(s.a)(this,e),this.gameScale=new y("Graphics","Scale",2).ranged(1,5),this.gravity=new y("Physics","Gravity",10).ranged(.01,100),this.birdHorizontalSpeed=new y("Physics","Bird Horizontal Speed",50).ranged(.01,100),this.birdFlappingSpeed=new y("Physics","Bird Flapping Speed",155).ranged(.01,1e3),this.manualInputMode=new y("Game","Manual Input Mode",0).wholeNumber().ranged(0,1)},_=function e(){Object(s.a)(this,e),this.y=0,this.x=0,this.opening=20},$=function e(t,n){Object(s.a)(this,e),this.x=void 0,this.y=void 0,this.x=t,this.y=n},ee=function(){function e(t){Object(s.a)(this,e),this.points=void 0,this.points=t}return Object(o.a)(e,null,[{key:"fromRectangle",value:function(t,n,i,a,s){var o=Math.cos(s)/2,r=Math.sin(s)/2,u=t+i/2,h=n+a/2,l=o*i,c=r*a,m=o*a,p=r*i;return new e([new $(u+c-l,h+-m-p),new $(u+c+l,h+-m+p),new $(u+-c+l,h+m+p),new $(u-c-l,h+m-p)])}}]),Object(o.a)(e,[{key:"draw",value:function(e){e.beginPath(),e.moveTo(2*this.points[0].x+194,2*this.points[0].y+140);for(var t=1;t<this.points.length;++t)e.lineTo(2*this.points[t].x+194,2*this.points[t].y+140);e.closePath(),e.fillStyle="red",e.fill()}},{key:"isIntersecting",value:function(e){for(var t,n,i,a,s,o=[this.points,e.points],r=o[0],u=o[1],h=0,l=o;h<l.length;h++)for(var c=l[h],p=0;p<c.length;p++){var d=(p+1)%c.length,A=c[p],v=c[d],g={x:v.y-A.y,y:A.x-v.x};t=n=void 0;var f,b=Object(m.a)(r);try{for(b.s();!(f=b.n()).done;){var y=f.value;i=g.x*y.x+g.y*y.y,(!t||i<=t)&&(t=i),(!n||i>=n)&&(n=i)}}catch(M){b.e(M)}finally{b.f()}a=s=void 0;var w,N=Object(m.a)(u);try{for(N.s();!(w=N.n()).done;){var G=w.value;i=g.x*G.x+g.y*G.y,(!a||i<=a)&&(a=i),(!s||i>=s)&&(s=i)}}catch(M){N.e(M)}finally{N.f()}if(n<=a||s<=t)return!1}return!0}}]),e}(),te=n(75),ne=n.n(te),ie=n(76),ae=n.n(ie),se=n(77),oe=n.n(se),re=n(78),ue=n.n(re),he=n(79),le=n.n(he),ce=n(80),me=n.n(ce),pe=n(81),de=n.n(pe),Ae=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this,"birdGame")).params=new q,e.obs=new K,e.score=0,e.pipeDown=new Image,e.pipeUp=new Image,e.bird1=new Image,e.bird2=new Image,e.bird3=new Image,e.floor=new Image,e.background=new Image,e.birdAnimation=[e.bird1,e.bird2,e.bird3],e.tickCounter=0,e.birdVerticalSpeed=0,e.birdLastJumpTime=0,e.birdAngle=0,e.actualBirdAngle=0,e.birdVHeight=0,e.floorX=0,e.birdY=0,e.isCollidingWithPipe=!1,e.pipe1=new _,e.pipe2=new _,e.scoreHitbox={shape:ee.fromRectangle(0,0,1,1,0),hasBeenTriggered:!0},e.shouldJumpManual=!1,e.actionShouldJump=new y("Bird","Should Jump",0).wholeNumber().ranged(0,1),e.addParamsFromObject(e.params),e.addObsFromObject(e.obs),e.addAction(e.actionShouldJump),e.pipeDown.src=ae.a,e.pipeUp.src=ne.a,e.bird1.src=ue.a,e.bird2.src=le.a,e.bird3.src=me.a,e.floor.src=de.a,e.background.src=oe.a,window.onkeydown=function(t){e.shouldJumpManual=!0},window.onkeyup=function(t){e.shouldJumpManual=!1},e.resetState(),e}return Object(o.a)(n,[{key:"resetState",value:function(){this.prepareForNewIndividual()}},{key:"prepareForEpoch",value:function(){this.tickCounter=0}},{key:"prepareForNewIndividual",value:function(){this.obs.deltaX.value=.5,this.obs.deltaY.value=.25,this.scoreHitbox={shape:ee.fromRectangle(0,0,1,1,0),hasBeenTriggered:!0},this.birdVerticalSpeed=0,this.birdY=0,this.score=0,this.tickCounter=0,this.birdAngle=0,this.isCollidingWithPipe=!1,this.actualBirdAngle=0,this.floorX=0,this.randomizePipe(this.pipe1),this.randomizePipe(this.pipe2);var e=.583*this.background.naturalWidth;this.pipe1.x=0,this.pipe2.x=e,this.pipe1.x+=.6*e+(this.background.naturalWidth-20)/2,this.pipe2.x+=.6*e+(this.background.naturalWidth-20)/2}},{key:"step",value:function(e){this.birdVerticalSpeed-=this.params.gravity.value*e,this.birdAngle=-this.birdVerticalSpeed,this.birdAngle=Math.min(Math.PI/4,this.birdAngle),this.birdAngle=Math.max(-Math.PI/4,this.birdAngle),this.actualBirdAngle=this.birdAngle+Math.sin(this.tickCounter)/7,this.birdY+=this.birdVerticalSpeed,(1===this.actionShouldJump.value&&!this.params.manualInputMode.value||this.params.manualInputMode.value&&this.shouldJumpManual)&&performance.now()-this.birdLastJumpTime>=50&&(this.birdVerticalSpeed=this.params.birdFlappingSpeed.value*e,this.birdLastJumpTime=performance.now()),this.tickCounter+=10*e,this.calculateObs(),this.pipe1.x-=this.params.birdHorizontalSpeed.value*e,this.pipe2.x-=this.params.birdHorizontalSpeed.value*e,this.scoreHitbox.shape.points[0].x-=this.params.birdHorizontalSpeed.value*e,this.scoreHitbox.shape.points[1].x-=this.params.birdHorizontalSpeed.value*e,this.scoreHitbox.shape.points[2].x-=this.params.birdHorizontalSpeed.value*e,this.scoreHitbox.shape.points[3].x-=this.params.birdHorizontalSpeed.value*e;var t=this.floor.naturalWidth-this.background.naturalWidth;this.floorX-=this.params.birdHorizontalSpeed.value*e,this.floorX<0&&(this.floorX=t);var n=this.birdVHeight*this.background.naturalHeight;return n<4||n>240||this.isCollidingWithPipe}},{key:"draw",value:function(e){f.context=e,f.context.imageSmoothingEnabled=!1,f.clear(),b.render(e),f.normX=f.normWidth=f.normHeight=f.normY=!1;var t=this.params.gameScale.value,n=this.background.naturalWidth*t,i=this.background.naturalHeight*t;f.setTranslation(0,0),f.imageScaled(this.background,0,0,t),this.drawPipe(this.pipe1),this.drawPipe(this.pipe2),f.imageScaled(this.floor,this.floorX*t-(this.floor.naturalWidth-this.background.naturalWidth)*t/2,-i/2,t),f.setTranslation(0,0),f.imageScaledRotated(this.birdAnimation[Math.round(this.tickCounter)%3],-20*t,this.birdY*t,t,this.actualBirdAngle),f.rectClear(n,0,n,2*i),f.rectClear(-n,0,n,2*i),f.rectClear(0,i,2*n,i),f.rectClear(0,-i,2*n,i),f.text(-2,(this.background.naturalHeight*t-100)/2+1,this.score+"","22px 'Press Start 2P', cursive","black","center"),f.text(0,(this.background.naturalHeight*t-100)/2,this.score+"","20px 'Press Start 2P', cursive","white","center"),this.calculateObs()}},{key:"fitness",value:function(){return this.score+this.tickCounter/100}},{key:"calculateObs",value:function(){if(f.context){var e=this.background.naturalWidth/2-20,t=this.background.naturalHeight/2-this.birdY,n=ee.fromRectangle(e-4,t-4,this.bird1.naturalWidth-6,this.bird1.naturalHeight-4,this.actualBirdAngle);n.isIntersecting(this.scoreHitbox.shape)&&(this.scoreHitbox.hasBeenTriggered||(this.score+=1,this.scoreHitbox.hasBeenTriggered=!0)),this.pipe1.x>e&&this.scoreHitbox.hasBeenTriggered&&(this.scoreHitbox.shape=ee.fromRectangle(this.pipe1.x+(this.pipeDown.naturalWidth-4)/2,this.pipe1.y+this.pipeDown.naturalHeight,4,this.pipe1.opening,0),this.scoreHitbox.hasBeenTriggered=!1),this.pipe2.x>e&&(this.pipe2.x<this.pipe1.x||this.pipe1.x<e)&&this.scoreHitbox.hasBeenTriggered&&(this.scoreHitbox.shape=ee.fromRectangle(this.pipe2.x+(this.pipeDown.naturalWidth-4)/2,this.pipe2.y+this.pipeDown.naturalHeight,4,this.pipe2.opening,0),this.scoreHitbox.hasBeenTriggered=!1),this.pipe1.x+this.pipeDown.naturalWidth>e&&(this.obs.deltaX.value=(this.pipe1.x-e+this.pipeDown.naturalWidth/2)/this.background.naturalWidth,this.obs.deltaY.value=(this.pipe1.y+this.pipeDown.naturalHeight+this.pipe1.opening/2-t)/this.background.naturalHeight),this.pipe2.x+this.pipeDown.naturalWidth>e&&(this.pipe2.x<this.pipe1.x||this.pipe1.x+this.pipeDown.naturalWidth<e)&&(this.obs.deltaX.value=(this.pipe2.x-e+this.pipeDown.naturalWidth/2)/this.background.naturalWidth,this.obs.deltaY.value=(this.pipe2.y+this.pipeDown.naturalHeight+this.pipe2.opening/2-t)/this.background.naturalHeight),this.isCollidingWithPipe=this.checkCollisionWithPipe(n,this.pipe1)||this.checkCollisionWithPipe(n,this.pipe2),this.birdVHeight=.5+(this.birdY-this.floor.naturalHeight/2)/this.background.naturalHeight}}},{key:"checkCollisionWithPipe",value:function(e,t){var n=ee.fromRectangle(t.x,t.y,this.pipeDown.naturalWidth,this.pipeDown.naturalHeight,0),i=ee.fromRectangle(t.x,t.y+this.pipeDown.naturalHeight+t.opening,this.pipeUp.naturalWidth,this.pipeUp.naturalHeight,0);return e.isIntersecting(n)||e.isIntersecting(i)}},{key:"randomizePipe",value:function(e){e.x=this.background.naturalWidth,e.y=-Math.random()*(this.pipeDown.naturalHeight-20),e.opening=30*Math.random()+54}},{key:"drawPipe",value:function(e){e.x<-this.pipeDown.naturalWidth&&this.randomizePipe(e);var t=this.params.gameScale.value,n=this.pipeDown.naturalHeight,i=(f.width()-this.background.naturalWidth*t)/2,a=(f.height()-this.background.naturalHeight*t)/2;f.context.drawImage(this.pipeDown,e.x*t+i,e.y*t+a,this.pipeDown.naturalWidth*t,this.pipeDown.naturalHeight*t),f.context.drawImage(this.pipeUp,e.x*t+i,(e.y+e.opening+n)*t+a,this.pipeDown.naturalWidth*t,this.pipeDown.naturalHeight*t)}}]),n}(U),ve=function e(){Object(s.a)(this,e),this.screenScale=new y("Screen","Scale",2).wholeNumber().ranged(1,5),this.disableGraphics=new y("Screen","Disable Graphics",0).wholeNumber().ranged(0,1),this.fitnessXWeight=new y("Fitness","X Distance",1).ranged(.001,100),this.fitnessSpeedWeight=new y("Fitness","Speed",.1).ranged(.001,100),this.maxFramesStuck=new y("Stop Conditions","Max frames stuck",200).wholeNumber().ranged(2,120),this.repeatStageCount=new y("Stop Conditions","Stage repeat count",4).wholeNumber().ranged(0,20),this.visionBoxRight=new y("Inputs","Vision Distance",7).wholeNumber().ranged(1,7),this.visionBoxLeft=new y("Inputs","Vision Distance",1).wholeNumber().ranged(1,7),this.visionBoxTop=new y("Inputs","Vision Distance",3).wholeNumber().ranged(1,7),this.visionBoxBottom=new y("Inputs","Vision Distance",4).wholeNumber().ranged(1,7),this.normalJumpTicks=new y("Inputs","Normal Jump Ticks",9).wholeNumber().ranged(2,120),this.longJumpTicks=new y("Inputs","Long Jump Ticks",24).wholeNumber().ranged(2,120)},ge=n(22),fe=[0,1,2,3,4,5,7],be=[22,23,24,25,26],ye=[45,49],we=function(){function e(t){Object(s.a)(this,e),this.nes=void 0,this.nes=t}return Object(o.a)(e,[{key:"time",value:function(){return 100*this.nes.cpu.mem[2040]+10*this.nes.cpu.mem[2041]+this.nes.cpu.mem[2042]}},{key:"lifes",value:function(){return this.nes.cpu.mem[1882]}},{key:"xPosition",value:function(){return 256*this.nes.cpu.mem[109]+this.nes.cpu.mem[134]}},{key:"leftXPosition",value:function(){return(this.nes.cpu.mem[134]-this.nes.cpu.mem[1820])%256}},{key:"yPixel",value:function(){return this.nes.cpu.mem[952]}},{key:"yViewport",value:function(){return this.nes.cpu.mem[181]}},{key:"yPosition",value:function(){return this.yViewport()<1?255-this.yPixel()+255:255-this.yPixel()}},{key:"playerState",value:function(){return this.nes.cpu.mem[14]}},{key:"isDying",value:function(){return 11===this.playerState()||this.yViewport()>1}},{key:"isDead",value:function(){return 6===this.playerState()}},{key:"isGameOver",value:function(){return 255===this.lifes()}},{key:"isBusy",value:function(){return fe.includes(this.playerState())}},{key:"isWorldOver",value:function(){return 2===this.nes.cpu.mem[1904]}},{key:"isStageOver",value:function(){var e,t=Object(m.a)(be);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(ye.includes(this.nes.cpu.mem[n]))return 3===this.nes.cpu.mem[29]}}catch(i){t.e(i)}finally{t.f()}return!1}},{key:"hasReachedFlag",value:function(){return this.isWorldOver()||this.isStageOver()}}]),e}(),Ne=function(){function e(t,n){Object(s.a)(this,e),this.memGet=void 0,this.nes=void 0,this.nes=t,this.memGet=n}return Object(o.a)(e,[{key:"resetButtons",value:function(){for(var e=0;e<8;++e)this.nes.buttonUp(1,e)}},{key:"frameAdvance",value:function(e){this.resetButtons(),void 0!==e&&this.nes.buttonDown(1,e),this.nes.frame(),void 0!==e&&this.nes.buttonUp(1,e)}},{key:"writeStage",value:function(e,t){this.nes.cpu.mem[1887]=e,this.nes.cpu.mem[1884]=t,this.nes.cpu.mem[1888]=t}},{key:"runoutPrelevelTimer",value:function(){this.nes.cpu.mem[1952]=0}},{key:"skipChangeArea",value:function(){var e=this.nes.cpu.mem[1758];e>1&&e<255&&(this.nes.cpu.mem[1758]=1)}},{key:"skipOccupiedStates",value:function(){for(;this.memGet.isBusy()||this.memGet.isWorldOver();)this.runoutPrelevelTimer(),this.frameAdvance()}},{key:"skipStartScreen",value:function(e,t){do{this.writeStage(e,t),this.frameAdvance(ge.Controller.BUTTON_START),this.nes.frame(),this.writeStage(e,t),this.runoutPrelevelTimer(),this.writeStage(e,t)}while(0===this.memGet.time()||401===this.memGet.time());for(var n=this.memGet.time();this.memGet.time()>=n;)this.writeStage(e,t),n=this.memGet.time(),this.frameAdvance(ge.Controller.BUTTON_START),this.nes.frame(),this.writeStage(e,t)}},{key:"skipEndOfWorld",value:function(){if(this.memGet.isWorldOver())for(var e=this.memGet.time();this.memGet.time()===e;)this.frameAdvance()}},{key:"killMario",value:function(){this.nes.cpu.mem[14]=6,this.frameAdvance()}}]),e}(),Ge=function(){function e(t,n,i){Object(s.a)(this,e),this.world=void 0,this.stage=void 0,this.nes=void 0,this.memGet=void 0,this.memSet=void 0,this.nes=t,this.world=n,this.stage=i,this.memGet=new we(t),this.memSet=new Ne(this.nes,this.memGet)}return Object(o.a)(e,[{key:"step",value:function(){if(this.memGet.hasReachedFlag())return 2;var e=this.isDone();return this.memGet.isDying()&&this.memSet.killMario(),this.memSet.skipEndOfWorld(),this.memSet.skipChangeArea(),this.memSet.skipOccupiedStates(),e?1:0}},{key:"isDone",value:function(){return this.memGet.isDying()||this.memGet.isDead()}}]),e}(),Me=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n),(e=t.call(this,"nes")).nes=void 0,e.params=new ve,e.world=1,e.level=1,e.marioX=0,e.previousMarioX=0,e.numberOfFramesStuck=0,e.marioY=0,e.tiles=void 0,e.sprites=void 0,e.maxTime=300,e.stageIndex=0,e.repeatCount=0,e.maxMarioX=0,e.baseFitness=0,e.trainingStages=[[1,1]],e.jumpCounter=0,e.longJumpCounter=0,e.emuManager=void 0,e.buf=void 0,e.buf8=void 0,e.buf32=void 0,e.imageData=void 0,e.hasInitGraphics=!1,e.hasDownloadedROM=!1,e.isFreshROM=!0,e.shouldStartEvaluation=!1,e.actionJump=new y("NES Controller","Jump (A)",0).wholeNumber().ranged(0,1),e.actionJumpLong=new y("NES Controller","Long Jump (A)",0).wholeNumber().ranged(0,1),e.actionRight=new y("NES Controller","Go Right (RIGHT)",0).wholeNumber().ranged(0,1),e.actionRun=new y("NES Controller","Run (B)",0).wholeNumber().ranged(0,1),e.actionLeft=new y("NES Controller","Go Left (LEFT)",0).wholeNumber().ranged(0,1),e.setBuffer=function(t){if(e.buf32&&!e.params.disableGraphics.value)for(var n=0,i=0;i<240;++i)for(var a=0;a<256;++a){n=4278190080|t[a+256*i];for(var s=(a+256*i*e.params.screenScale.value)*e.params.screenScale.value,o=0;o<e.params.screenScale.value;++o)for(var r=0;r<e.params.screenScale.value;++r)e.buf32[s+256*r*e.params.screenScale.value+o]=n}},e.tiles=Array(e.visionBoxArea()),e.sprites=Array(5);for(var i=0;i<5;++i)e.sprites[i]=new $(1e4,1e4);e.addParamsFromObject(e.params);for(var a=0;a<e.tiles.length;++a)e.obsArray.push(new y("Vision","T"+a,0).wholeNumber().ranged(-1,1));e.addAction(e.actionJump),e.addAction(e.actionJumpLong),e.addAction(e.actionRight),e.addAction(e.actionRun),e.addAction(e.actionLeft),e.nes=new ge.NES({onFrame:e.setBuffer,audioEmulation:!1});var o=new XMLHttpRequest;return o.open("GET","/Super Mario Bros (E).nes"),o.overrideMimeType("text/plain; charset=x-user-defined"),o.onload=function(){e.nes.loadROM(o.response),e.emuManager=new Ge(e.nes,0,0),e.isFreshROM=!0,e.hasDownloadedROM=!0,e.resetEmu()},o.send(null),window.onkeydown=function(t){68===t.keyCode&&e.nes.buttonDown(1,ge.Controller.BUTTON_RIGHT),75===t.keyCode&&(e.actionJumpLong.value=1),74===t.keyCode&&(e.actionJump.value=1)},window.onkeyup=function(t){68===t.keyCode&&e.nes.buttonUp(1,ge.Controller.BUTTON_RIGHT),75===t.keyCode&&(e.actionJumpLong.value=0),74===t.keyCode&&(e.actionJump.value=0)},e.prepareForEpoch(),e}return Object(o.a)(n,[{key:"resetEmu",value:function(){this.hasDownloadedROM&&this.emuManager&&(this.isFreshROM||this.nes.reloadROM(),this.nes.frame(),this.emuManager.memSet.skipStartScreen(this.world-1,this.level-1),this.maxTime=this.emuManager.memGet.time(),this.isFreshROM=!1,this.shouldStartEvaluation=!0)}},{key:"prepareForEpoch",value:function(){Y.shuffle(this.trainingStages)}},{key:"resetState",value:function(){this.prepareForNewIndividual()}},{key:"updateStage",value:function(){var e=this.trainingStages[this.stageIndex];this.world=e[0],this.level=e[1]}},{key:"prepareForNewIndividual",value:function(){this.updateStage(),this.resetEmu(),this.tiles=Array(this.visionBoxArea()),this.sprites=Array(5);for(var e=0;e<5;++e)this.sprites[e]=new $(1e4,1e4);this.repeatCount=0,this.numberOfFramesStuck=0,this.jumpCounter=0,this.longJumpCounter=0,this.stageIndex=0,this.baseFitness=0,this.maxMarioX=0}},{key:"processAction",value:function(e,t){e.value>0?this.nes.buttonDown(1,t):this.nes.buttonUp(1,t)}},{key:"step",value:function(e){if(!this.emuManager)return!1;if(this.shouldStartEvaluation){if(this.previousMarioX=this.marioX,this.marioX=this.emuManager.memGet.xPosition(),this.marioY=this.emuManager.memGet.yPixel()+32,this.marioX<=this.maxMarioX?this.numberOfFramesStuck+=1:this.numberOfFramesStuck=0,this.marioX>this.maxMarioX&&(this.maxMarioX=this.marioX),this.numberOfFramesStuck>=this.params.maxFramesStuck.value)return!0;(this.actionJump.value>0||this.jumpCounter>0)&&(this.jumpCounter+=1,this.nes.buttonDown(1,ge.Controller.BUTTON_A)),this.jumpCounter>=this.params.normalJumpTicks.value&&(this.jumpCounter=0,this.nes.buttonUp(1,ge.Controller.BUTTON_A)),(this.actionJumpLong.value>0||this.longJumpCounter>0)&&(this.longJumpCounter+=1,this.nes.buttonDown(1,ge.Controller.BUTTON_A)),this.longJumpCounter>=this.params.longJumpTicks.value&&(this.longJumpCounter=0,this.nes.buttonUp(1,ge.Controller.BUTTON_A)),this.processAction(this.actionRun,ge.Controller.BUTTON_B),this.processAction(this.actionRight,ge.Controller.BUTTON_RIGHT),this.processAction(this.actionLeft,ge.Controller.BUTTON_LEFT),this.emuManager.memSet.nes.frame();var t=this.emuManager.step();if(1===t)return this.shouldStartEvaluation=!1,!0;if(2===t){var n=this.repeatCount;if(n+1>this.params.repeatStageCount.value&&(this.stageIndex+=1,n=-1),this.stageIndex>this.trainingStages.length-1)return this.hasReachedGoal=!0,!1;var i=this.fitness(),a="completed_"+this.world+"-"+this.level+"_"+this.repeatCount+".genome";this.prepareForNewIndividual(),this.repeatCount=n+1,this.baseFitness=i,this.requestSave(a)}return!1}return!1}},{key:"draw",value:function(e){f.context=e,f.clear(),this.hasDownloadedROM&&(this.hasInitGraphics&&!this.params.disableGraphics.value?(this.imageData.data.set(this.buf8),f.context.putImageData(this.imageData,4,32),f.context.setTransform(1,0,0,1,0,0)):this.initNESGraphics()),this.emuManager&&this.getInputs()}},{key:"fitness",value:function(){if(!this.emuManager)return 1e-4;var e=this.marioX/Math.max(1,this.maxTime-this.emuManager.memGet.time()),t=this.marioX*this.params.fitnessXWeight.value+e*this.params.fitnessSpeedWeight.value+this.baseFitness;return 0===t?1e-4:t}},{key:"getInputs",value:function(){this.getSprites();for(var e=0,t=16*-this.params.visionBoxTop.value;t<=16*this.params.visionBoxBottom.value;t+=16)for(var n=16*-this.params.visionBoxLeft.value;n<=16*this.params.visionBoxRight.value;n+=16){var i=this.getTile(n,t);this.tiles[e]=1===i&&this.marioY+t<432?1:0;var a,s=Object(m.a)(this.sprites);try{for(s.s();!(a=s.n()).done;){var o=a.value,r=Math.abs(o.x-(this.marioX+n)),u=Math.abs(o.y-(this.marioY+t));r<=8&&u<=8&&(this.tiles[e]=-1)}}catch(v){s.e(v)}finally{s.f()}e+=1}var h=256*this.params.screenScale.value+10;f.context.lineWidth=3;var l=8*this.params.screenScale.value,c=this.visionBoxWidth();f.context.lineWidth=1;for(var p=0;p<this.visionBoxHeight();++p)for(var d=0;d<c;++d){if(d===this.params.visionBoxLeft.value&&p===this.params.visionBoxTop.value)f.context.strokeStyle="blue";else{var A=this.tiles[d+p*c];if(0===A)continue;f.context.strokeStyle=1===A?"black":"red"}f.context.strokeRect(h+d*l,32+p*l,l,l)}for(e=0;e<this.tiles.length;++e)this.obsArray[e].value=this.tiles[e]}},{key:"getSprites",value:function(){for(var e=0;e<this.sprites.length;++e){if(0!==this.nes.cpu.mem[15+e]){var t=256*this.nes.cpu.mem[110+e]+this.nes.cpu.mem[135+e],n=this.nes.cpu.mem[207+e]+24;this.sprites[e].x=t,this.sprites[e].y=n}}}},{key:"getTile",value:function(e,t){var n=this.marioX+e+8,i=this.marioY+t-16,a=Math.floor(n/256)%2,s=Math.floor(n%256/16),o=Math.floor((i-32)/16),r=1280+13*a*8*2+8*o*2+s;return o>=13||o<0?0:0!==this.nes.cpu.mem[r]?1:0}},{key:"visionBoxWidth",value:function(){return this.params.visionBoxLeft.value+this.params.visionBoxRight.value+1}},{key:"visionBoxHeight",value:function(){return this.params.visionBoxTop.value+this.params.visionBoxBottom.value+1}},{key:"visionBoxArea",value:function(){return this.visionBoxWidth()*this.visionBoxHeight()}},{key:"initNESGraphics",value:function(){if(!this.params.disableGraphics.value){this.imageData=f.context.getImageData(0,0,256*this.params.screenScale.value,240*this.params.screenScale.value),f.context.fillStyle="red",f.context.fillRect(0,0,256*this.params.screenScale.value,240*this.params.screenScale.value),this.buf=new ArrayBuffer(this.imageData.data.length),this.buf8=new Uint8ClampedArray(this.buf),this.buf32=new Uint32Array(this.buf);for(var e=0;e<this.buf32.length;++e)this.buf32[e]=65280;this.hasInitGraphics=!0}}}]),n}(U),De=n(58),ke=n.n(De),Ie=n(82),xe=n.n(Ie),Ce=n(83),Oe=n.n(Ce),Se=n(84),Be=n.n(Se),Ye=n(85),je=n.n(Ye),Re=function e(){Object(s.a)(this,e),this.fileInput=new w("File","Genomes","__NULL__","file")},Te=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,"genomeVisualizer",e)).params=new Re,i.phenotype=void 0,i.currentGenome=void 0,i.latexFormula=void 0,i.genomeNames=[],i.genomes=[],i.popDrawIndex=0,i.popDrawData=[],b.printToConsole=!0,i.addParamsFromObject(i.params),i.resetState(),i}return Object(o.a)(n,[{key:"resetState",value:function(){this.currentGenome=void 0,this.populationData()}},{key:"prepareForIndividual",value:function(e){var t=e;this.currentGenome=t,this.phenotype=t.createPhenotype(),this.latexFormula=this.phenotype.generateFormula(this.env.obsFormulaNames(),2);for(var n=0;n<t.outputCount;++n)console.log(this.env.actions[n].name,this.latexFormula[n]);++this.popDrawIndex}},{key:"goalReached",value:function(){console.log("[GENOME VISUALIZER] Goal reached!")}},{key:"act",value:function(){if(this.phenotype){var e,t=0,n=this.phenotype.activate(this.env.obsValues()),i=Object(m.a)(this.env.actions);try{for(i.s();!(e=i.n()).done;){var a=e.value,s=0;s=n[t]>=0?1:0,a.value=s,++t}}catch(o){i.e(o)}finally{i.f()}}}},{key:"draw",value:function(e){if(f.context=e,f.clear(),b.render(e),f.setTranslation(0,0),f.normX=f.normY=!0,f.normWidth=f.normHeight=!0,this.popDrawIndex>=0){f.normX=f.normY=!0,f.normWidth=f.normHeight=!0,this.popDrawData&&this.popDrawData[this.popDrawIndex]&&this.popDrawData[this.popDrawIndex].neurons&&this.phenotype&&(f.linkShadowBlur=0,f.inputNeuronShadowBlur=10,f.hiddenNeuronShadowBlur=20,f.outputNeuronShadowBlur=10,f.inputNeuronRadius=.005,f.hiddenNeuronRadius=.006,f.outputNeuronRadius=.0065,f.linkLineWidth=1,f.neuralNetwork(0,0,.4,.95,this.popDrawData[this.popDrawIndex].neurons,this.popDrawData[this.popDrawIndex].links,this.phenotype)),f.normX=f.normY=!0,f.normX=!0;for(var t=1/this.popDrawData.length,n=0;n<this.genomes.length;++n)if(n!==this.popDrawIndex&&(f.neuralNetwork(2*(n*t-.5)+t,-.7,.125,.18,this.popDrawData[n].neurons,this.popDrawData[n].links,void 0),n<this.popDrawIndex)){f.normX=!1;var i=(n*t-.5)*f.width();f.text(i+40,.87,String(Math.round(100*this.genomes[n].fitness)/100),"12px Arial","green"),f.normX=!0}}}},{key:"loop",value:function(e){if("__NULL__"!==this.params.fileInput.values[0]&&this.genomes.length<=0){for(var t=0;t<Math.min(this.params.fileInput.values.length,this.params.fileInput.fileNames.length);++t)this.genomes.push(T.fromJSON(this.params.fileInput.values[t])),this.genomeNames.push(this.params.fileInput.fileNames[t]);this.populationData()}this.genomes.length>0&&Object(p.a)(Object(d.a)(n.prototype),"lifecycle",this).call(this,e,this.genomes)}},{key:"epoch",value:function(){this.populationData()}},{key:"populationData",value:function(){var e=this;if(this.popDrawIndex=-1,this.popDrawData=[],this.genomes){var t,n=Object(m.a)(this.genomes);try{var i=function(){var n=t.value,i={links:n.linkGenes.map((function(e){return{inIndex:n.getNeuronIndexByID(e.inNeuron.id),outIndex:n.getNeuronIndexByID(e.outNeuron.id),isEnabled:!1}})),neurons:n.neuronGenes.map((function(e){return{splitX:e.splitX,splitY:e.splitY,type:e.type,id:e.id}}))};e.popDrawData.push(i)};for(n.s();!(t=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}}}}]),n}(N);function Ee(e){return"cartPole"===e?new V:"birdGame"===e?new Ae:"nes"===e?new Me:void 0}var ze=n(179),Le=n(170),Fe=n(174),We=n(178),Ze=n(176),Pe=n(175),Qe=n(177),Je=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).CardLink=function(t){return i.createElement(h.b,Object.assign({to:void 0===e.props.envName?"/"+e.props.info.modelName:"/"+e.props.envName+"/"+e.props.info.modelName},t))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=void 0===this.props.envName?"secondary":"primary";return i.createElement(Le.a,null,i.createElement(Fe.a,{component:this.CardLink},i.createElement(Pe.a,{component:"img",style:{objectFit:"contain"},image:this.props.info.imgSrc,height:180}),i.createElement(Ze.a,null,i.createElement(Qe.a,{gutterBottom:!0,variant:"h5"}," ",this.props.info.title," "),i.createElement(Qe.a,{variant:"body1"}," ",this.props.info.description," "))),i.createElement(We.a,null,i.createElement(ze.a,{size:"small",color:e},"Learn more")))}}]),n}(i.Component),Ue=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={cards:[],isTransitioning:!1},i.props=void 0,i.props=e,i.fetchDBData(),i}return Object(o.a)(n,null,[{key:"mapCards",value:function(e){return n.sReactKey++,i.createElement(c.a,{item:!0,xs:12,sm:6,md:4,lg:4,key:"CARD_"+n.sReactKey},i.createElement(Je,{envName:n.envName,info:e}))}}]),Object(o.a)(n,[{key:"render",value:function(){n.envName=this.props.envName;var e=this.state.cards.map(n.mapCards);return i.createElement("div",{style:this.props.style},i.createElement(c.a,{container:!0,spacing:8},e))}},{key:"fetchDBData",value:function(){var e;"envsCards"===this.props.serverGetRoute?((e=this.state.cards).push({title:"Pole Balancing",description:"Click to select",imgSrc:xe.a,modelName:"cartPole"}),e.push({title:"Bird Game",description:"Click to select",imgSrc:Oe.a,modelName:"birdGame"}),e.push({title:"NES",description:"Click to select",imgSrc:je.a,modelName:"nes"})):function(e){e.push({title:"NeuroEvolution of Augmenting Topologies",description:"Click to select",imgSrc:ke.a,modelName:"neat"}),e.push({title:"Genome Visualizer Agent",description:"Click to select",imgSrc:ke.a,modelName:"genomeVisualizer"}),e.push({title:"Random Agent",description:"Click to select",imgSrc:Be.a,modelName:"randomAgent"})}(this.state.cards)}}]),n}(i.Component);Ue.sReactKey=0,Ue.envName=void 0;var He={margin:"auto",width:"50%"},Xe=function(){return i.createElement(Ue,{serverGetRoute:"envsCards",style:He})},Ve=n(181),Ke=n(182),qe=n(185),_e=n(89),$e=n.n(_e),et=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={value:0},e.handleChange=function(t,n){e.setState({value:n})},e.handleChangeIndex=function(t){e.setState({value:t})},e}return Object(o.a)(n,[{key:"render",value:function(){return i.createElement("div",{style:n.styleDiv},i.createElement(Ve.a,{position:"static",color:"default"},i.createElement(qe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:this.props.color,textColor:this.props.color,variant:"fullWidth"},i.createElement(Ke.a,{label:this.props.tab1Name}),i.createElement(Ke.a,{label:this.props.tab2Name}))),i.createElement($e.a,{index:this.state.value,onChangeIndex:this.handleChangeIndex,style:n.styleDiv},this.props.tab1,this.props.tab2))}}]),n}(i.Component);et.styleDiv={height:"100%"};var tt=n(61),nt=n(183),it=n(91),at=n(187),st=n(184),ot=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).handleChangeComittedSlider=function(e,t){i.props.onChangeCommitted(t)},i.handleBlurTextField=function(e){var t=Number(e.target.value);if(Number.isFinite(t)){var n=Math.round(1e3*t)/1e3;t=Math.min(Math.max(n,i.props.scalar.min),i.props.scalar.max),i.setState({value:t,input:String(t)})}else i.setState({value:i.state.value,input:String(i.state.value)})},i.handleChangeTextField=function(e){var t=n.stringToFloatInRange(e.target.value,i.props.scalar.min,i.props.scalar.max);void 0!==t?i.setState({value:t,input:e.target.value}):i.setState({input:e.target.value})},i.handleChangeSlider=function(e,t){var a=0;a=Array.isArray(t)?t[0]:t,i.setState({value:a,input:n.floatToString(a)})},i.state={value:i.props.scalar.value,input:String(i.props.scalar.value)},i}return Object(o.a)(n,null,[{key:"stringToFloatInRange",value:function(e,t,n){if(!(e.length<=0)){var i=Number(e);if(!(!Number.isFinite(i)||i<t||i>n))return i}}},{key:"floatToString",value:function(e){return String(Math.round(1e3*e)/1e3)}}]),Object(o.a)(n,[{key:"render",value:function(){var e=this.props.scalar.min,t=this.props.scalar.max,a=(t-e)/1e4;return this.props.scalar.isWhole&&(e=Math.ceil(e),t=Math.floor(t),a=1),i.createElement(c.a,{container:!0,spacing:0,color:this.props.color},i.createElement(c.a,{item:!0,xs:3},i.createElement(Qe.a,{variant:"overline",align:"left"},n.floatToString(e))),i.createElement(c.a,{item:!0,xs:2}),i.createElement(c.a,{item:!0,xs:2},i.createElement(st.a,{onBlur:this.handleBlurTextField,onChange:this.handleChangeTextField,inputProps:{style:n.styleTextField},multiline:!1,color:this.props.color,variant:"standard",value:this.state.input})),i.createElement(c.a,{item:!0,xs:2}),i.createElement(c.a,{item:!0,xs:3},i.createElement(Qe.a,{variant:"overline",align:"right"},n.floatToString(t))),i.createElement(c.a,{item:!0,xs:12},i.createElement(at.a,{step:a,min:e,max:t,value:this.state.value,onChange:this.handleChangeSlider,onChangeCommitted:this.handleChangeComittedSlider})))}}]),n}(i.Component);ot.styleTextField={fontSize:12,textAlign:"center",paddingBottom:0};var rt=n(186),ut=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return i.createElement(c.a,{container:!0},i.createElement(c.a,{item:!0,xs:12,sm:5},i.createElement(Qe.a,{gutterBottom:!0,variant:"overline"}," ",this.props.scalar.name," ")),i.createElement(c.a,{item:!0,xs:12,sm:7},this.getNumberPicker()))}},{key:"getNumberPicker",value:function(){var e=this,t=this.props,n=t.color,a=t.scalar;return a.isWhole&&0===a.min&&1===a.max?i.createElement(rt.a,{style:{margin:"auto"},color:n,checked:1===a.value,onChange:function(t){return e.props.onScalarChange(t,a)}}):i.createElement(ot,{color:n,scalar:a,onChangeCommitted:function(t){return e.props.onScalarChange(t,a)}})}}]),n}(i.Component),ht=n(90),lt=n.n(ht),ct=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onFilePickerChange=function(t){e.props.stringParam.values=[],e.props.stringParam.fileNames=[];var n,i=Object(m.a)(t.target.files);try{var a=function(){var t=n.value,i=new FileReader;i.onload=function(n){i.result&&(e.props.stringParam.values.push(i.result),e.props.stringParam.fileNames.push(t.name))},i.readAsText(t,"UTF-8")};for(i.s();!(n=i.n()).done;)a()}catch(s){i.e(s)}finally{i.f()}},e}return Object(o.a)(n,[{key:"render",value:function(){return i.createElement(c.a,{container:!0},i.createElement(c.a,{item:!0,xs:12,sm:5},i.createElement(Qe.a,{gutterBottom:!0,variant:"overline"}," ",this.props.stringParam.name," ")),i.createElement(c.a,{item:!0,xs:12,sm:7},this.getPicker()))}},{key:"getPicker",value:function(){var e=this.props.stringParam;return"file"===e.type?i.createElement("input",{id:"F"+e.name,name:"F"+e.name,type:"file",multiple:!0,accept:".genome,.json",onChange:this.onFilePickerChange}):i.createElement("div",null)}}]),n}(i.Component),mt=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(s.a)(this,n),(a=t.call(this,e)).onScalarChange=function(e,t){if(e.target){var n=e.target.checked;a.updateStateForScalar(t,n?1:0)}else{var i=e;a.updateStateForScalar(t,i)}},a.updateStateForScalar=function(e,t){var n,i=0,s=0,o=Object(m.a)(a.state.families);try{for(o.s();!(n=o.n()).done;){if(n.value.scalars[0].familyName===e.familyName)break;i+=1}}catch(h){o.e(h)}finally{o.f()}var r,u=Object(m.a)(a.state.families[i].scalars);try{for(u.s();!(r=u.n()).done;){if(r.value.name===e.name)break;s+=1}}catch(h){u.e(h)}finally{u.f()}a.setState({families:lt()(a.state.families,Object(tt.a)({},i,{scalars:Object(tt.a)({},s,{$merge:{value:t}})}))})},a.mapScalarToComponent=function(e){return n.sReactKey++,i.createElement(ut,{onScalarChange:a.onScalarChange,key:n.sReactKey,scalar:e,color:n.sTint})},a.mapStringParamToComponent=function(e){return n.sReactKey++,i.createElement(ct,{key:n.sReactKey,color:n.sTint,stringParam:e})},a.mapFamiliesToCards=function(e){n.sReactKey++;var t=e.scalars.map(a.mapScalarToComponent),s=n.sTint;return i.createElement("div",{key:n.sReactKey,style:n.styleDiv},i.createElement(Qe.a,{color:s,variant:"h6",style:n.styleTypography},e.scalars[0].familyName),t,i.createElement(nt.a,{style:n.styleDivider}))},a.mapStringParamsToCards=function(e){n.sReactKey++;var t=e.stringParams.map(a.mapStringParamToComponent),s=n.sTint;return i.createElement("div",{key:n.sReactKey,style:n.styleDiv},i.createElement(Qe.a,{color:s,variant:"h6",style:n.styleTypography},e.stringParams[0].familyName),t,i.createElement(nt.a,{style:n.styleDivider}))},a.onRefreshAction=function(e){var t,n=new Array,i=Object(m.a)(a.state.families);try{for(i.s();!(t=i.n()).done;){var s=t.value;n.push.apply(n,Object(G.a)(s.scalars))}}catch(o){i.e(o)}finally{i.f()}a.props.agent?(a.props.agent.reset(n),a.props.agent.env.resetState()):a.props.env&&a.props.env.reset(n)};var o,r=[],u=Object(m.a)(a.props.scalars);try{for(u.s();!(o=u.n()).done;){var h,l=o.value,c=void 0,p=Object(m.a)(r);try{for(p.s();!(h=p.n()).done;){var d=h.value;d.scalars[0].familyName===l.familyName&&(c=d)}}catch(M){p.e(M)}finally{p.f()}void 0===c?r.push({scalars:[l]}):c.scalars.push(l)}}catch(M){u.e(M)}finally{u.f()}var A=[];if(a.props.stringParams){var v,g=Object(m.a)(a.props.stringParams);try{for(g.s();!(v=g.n()).done;){var f,b=v.value,y=void 0,w=Object(m.a)(A);try{for(w.s();!(f=w.n()).done;){var N=f.value;N.stringParams[0].familyName===b.familyName&&(y=N)}}catch(M){w.e(M)}finally{w.f()}void 0===y?A.push({stringParams:[b]}):y.stringParams.push(b)}}catch(M){g.e(M)}finally{g.f()}}return a.state={families:r,stringFamilies:A},a}return Object(o.a)(n,[{key:"render",value:function(){n.sTint=this.props.tint;var e=this.state.families.map(this.mapFamiliesToCards),t=this.state.stringFamilies.map(this.mapStringParamsToCards);return i.createElement(it.a,{style:n.stylePaper},i.createElement(ze.a,{onMouseDown:this.onRefreshAction,size:"small",color:n.sTint},"Refresh"),e,t)}}]),n}(i.Component);mt.styleDiv={paddingTop:5,marginLeft:7,marginRight:7},mt.styleTypography={marginTop:2,marginBottom:6},mt.styleDivider={marginTop:4,marginBottom:4},mt.stylePaper={marginLeft:"1.5%",marginRight:"1.5%",marginTop:5},mt.sReactKey=0,mt.sTint=void 0;var pt=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).canvasContext=void 0,i.timeScale=1,i.lastTime=0,i.unprocessedTime=0,i.frameCounter=0,i.frames=0,i.totalTime=0,i.fetchInfo(e.modelName),i.start(),i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize.bind(this))}},{key:"render",value:function(){return this.props.env?i.createElement(et,{tab1:i.createElement("canvas",{id:"env-canvas",style:n.styleCanvas,ref:this.ref.bind(this)}),tab2:i.createElement(mt,{agent:void 0,env:this.props.env,tint:"secondary",scalars:this.props.env.paramsArray}),tab1Name:"Environment",tab2Name:"Parameters",color:"secondary"}):i.createElement(et,{tab1:i.createElement("canvas",{id:"agent-canvas",style:n.styleCanvas,ref:this.ref.bind(this)}),tab2:i.createElement(mt,{agent:this.props.agent,env:void 0,tint:"primary",scalars:this.props.agent.paramsArray,stringParams:this.props.agent.stringParamsArray}),tab1Name:"Agent",tab2Name:"Parameters",color:"primary"})}},{key:"update",value:function(e){this.props.agent&&this.props.agent.loop(e)}},{key:"draw",value:function(e){this.canvasContext&&(this.props.agent?this.props.agent.draw(this.canvasContext):this.props.env&&(this.props.env.draw(this.canvasContext),f.context=this.canvasContext,f.normY=!1,f.setTranslation(0,-12),f.normX=f.normY=!0,f.text(-.98,.98,this.totalTime.toFixed(2)+"ms","300 12px sans-serif","green","left"),f.setTranslation(0,0)))}},{key:"start",value:function(){this.lastTime=performance.now()/1e3,setInterval(this.run.bind(this),0)}},{key:"run",value:function(){var e=!1,t=performance.now()/1e3,n=t-this.lastTime;for(this.lastTime=t,this.unprocessedTime+=n,this.frameCounter+=n,this.frameCounter>=1.5&&(this.totalTime=1e3*this.frameCounter/this.frames,this.frames=0,this.frameCounter=0);this.unprocessedTime>1/60;){for(var i=0;i<this.timeScale;++i)this.update(1/60);e=!0,this.unprocessedTime-=1/60}e&&(window.requestAnimationFrame(this.draw.bind(this)),this.frames++)}},{key:"fetchInfo",value:function(e){this.props.info.modelName=e,this.props.info.description="Description",this.props.info.title="Title",this.props.info.imgSrc="Title"}},{key:"ref",value:function(e){if(e){var t=e.getContext("2d");t&&(this.canvasContext=t),this.resize()}}},{key:"resize",value:function(){this.canvasContext&&(this.canvasContext.canvas.width=this.canvasContext.canvas.offsetWidth,this.canvasContext.canvas.height=this.canvasContext.canvas.offsetHeight)}}]),n}(i.Component);pt.styleCanvas={width:"100%",height:"90vh"};var dt={description:"",imgSrc:"",modelName:"",title:""},At={height:"100%"},vt=function(e){var t=Ee(e.match.params.envName);return i.createElement(c.a,{container:!0,style:At},i.createElement(c.a,{item:!0,xs:6,sm:6,md:6,lg:6,style:At},i.createElement(pt,{modelName:e.match.params.envName,env:t,info:dt})),i.createElement(c.a,{item:!0,xs:6,sm:6,md:6,lg:6,style:At},i.createElement(Ue,{envName:e.match.params.envName,serverGetRoute:"agentsCards"})))},gt={description:"",imgSrc:"",modelName:"",title:""},ft={height:"100%"},bt=function(e){var t=Ee(e.match.params.envName),n=function(e,t){return"randomAgent"===e?new J(t):"neat"===e?new Q(t):"genomeVisualizer"===e?new Te(t):void 0}(e.match.params.agentName,t);return i.createElement(c.a,{container:!0,style:ft},i.createElement(c.a,{item:!0,xs:12,sm:6,md:6,lg:6,style:ft},i.createElement(pt,{modelName:e.match.params.envName,env:t,info:gt})),i.createElement(c.a,{item:!0,xs:12,sm:6,md:6,lg:6,style:ft},i.createElement(pt,{modelName:e.match.params.agentName,agent:n,info:gt})))},yt={height:"100%"},wt=function(){return i.createElement(l.c,null,i.createElement(l.a,{path:"/:envName/:agentName",component:bt,style:yt}),i.createElement(l.a,{path:"/:envName",component:vt,style:yt}),i.createElement(l.a,{path:"/",component:Xe,style:yt}))},Nt=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return i.createElement(h.a,null,i.createElement(wt,{style:n.styleAppRoutes}))}}]),n}(i.Component);Nt.styleAppRoutes={height:"100%"};var Gt=Nt,Mt=(n(130),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Dt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.render(i.createElement(Gt,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Mt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Dt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Dt(t,e)}))}}()},58:function(e,t,n){e.exports=n.p+"static/media/neat.cfd3585d.svg"},75:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAACgCAYAAAASG3zdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF+mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA1LTE1VDE2OjM4OjQwLTAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTE1VDE2OjM4OjQwLTAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0xNVQxNjozODo0MC0wMzowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmNmI4MGM4My02YWRhLTY1NDctOTAzYS01NThmNTNkN2M4N2MiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozYThkOTVlNS00ZmQzLTRjNDktODI1NS02ODkzNmI3M2ZmOGMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjY2I5NDVjMy1kNjc4LTQ5NDgtYmMwNy02YjA5ZDc1MDIzNTUiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmNjYjk0NWMzLWQ2NzgtNDk0OC1iYzA3LTZiMDlkNzUwMjM1NSIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0xNVQxNjozODo0MC0wMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmNmI4MGM4My02YWRhLTY1NDctOTAzYS01NThmNTNkN2M4N2MiIHN0RXZ0OndoZW49IjIwMjAtMDUtMTVUMTY6Mzg6NDAtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4b6jBCAAAOXklEQVR4AQXBu60oaJqW0fV8e3fNpeeGiAChMRAOHiKCET4iCbIgBGIABxeHiYAYiAJ6qD636vO/rNV/+Lf/sAqzUdkGoNiAyjYAFdgGoIANqDCf8J/+27/yl3/+i7/45Re//MUvfvn8nc+PD7+9n3789psf33745c9+8ePbD1+///Dtxw9//Pbdly/ffPn6zZdv33z5+t0fv3z35et3X79/8+3bD99+/Ob7jz/57X/8C5/FP/+7v/K7P/vFL7/7nV8+Pvz2p5++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"},76:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAACgCAYAAAASG3zdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF+mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA1LTE1VDE2OjM5OjA4LTAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTE1VDE2OjM5OjA4LTAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0xNVQxNjozOTowOC0wMzowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMDkyMDFjMS05MzE0LWQwNGMtOWI4Yi1jMTNjMWY2YmQ4ZDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3YzE4ZjIxYi0wMDE3LWM1NGItODIxOC1kMmZiNGNkM2MyYTkiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplMjI3MzA2Zi1kODMyLTkxNGUtYjYwYS02NmU2YmRmYWNhM2MiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmUyMjczMDZmLWQ4MzItOTE0ZS1iNjBhLTY2ZTZiZGZhY2EzYyIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0xNVQxNjozOTowOC0wMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMDkyMDFjMS05MzE0LWQwNGMtOWI4Yi1jMTNjMWY2YmQ4ZDQiIHN0RXZ0OndoZW49IjIwMjAtMDUtMTVUMTY6Mzk6MDgtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Oa93HAAAOc0lEQVR4AQXBva0o+HrW0fW8e9/x9Qe2RYBoAFJCoAJMDkTUgEQDFEQDyBUQExAhUQK6tu/MOXPG+/9jrVX+07/99/2r//rlr//qz/z1X/4Tf/WXf+Gv/vzP/eVf/Jl/8he/99Pn7/z6229++eWbP/z83d//w8/+8Hf/4O/++LM//P0f/eEPf/QPP//i52+/+v79BwDwt//Sf/+f/2MHyo454jaOCTDklb1MDNLjNtsMAAAVODCKsE1Yw8DGzJwuRaUGkkoASADg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"},77:function(e,t,n){e.exports=n.p+"static/media/background.dd6aa4cd.png"},78:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAMCAYAAACEJVa/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF+mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA1LTE1VDE2OjQxOjQ5LTAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTE1VDE2OjQxOjQ5LTAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0xNVQxNjo0MTo0OS0wMzowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpiZmJhNzljNS1mMWQxLWZhNDktYWFiYi0yNDc5MzE0NjUwNmIiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpiNjU0NGJkNy0wOTc0LTQwNGUtOGFlNS1lOTQxOTJiZmZhM2YiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyZjFjMzM5My0zMzk5LTBlNDEtODY3NC03MTE3ZDUwOTJlZjEiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjJmMWMzMzkzLTMzOTktMGU0MS04Njc0LTcxMTdkNTA5MmVmMSIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0xNVQxNjo0MTo0OS0wMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiZmJhNzljNS1mMWQxLWZhNDktYWFiYi0yNDc5MzE0NjUwNmIiIHN0RXZ0OndoZW49IjIwMjAtMDUtMTVUMTY6NDE6NDktMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz694SivAAAA4ElEQVQoz3WTsRGDMAxFvU/okjuYAHpYiPRkHpZIDWVoskNwcqdYsmW+ARf/xGH9x7dsDBGZM3VVQ11VU1vWsbLOeg8vtNnOg9OD1mkQiLVWdAY6ANgo5vEmagGQA0F8/3U1r+PVQ5xhfj8TAFfuTyC88AkmrfrMzRNAdGtZCGoFKBswjYc0KQSnz4uYDEG6hhJIPAkc3uxPREFs/lUm6ltuz+w3Oqj99Jd7QUtfCEybt7Q+lW4phbgEAugvQQW9XFVQTBGSRIjOBPcsAE4S0vhEzS7J7nRytxavfe73YP0BS30eVCAqFMwAAAAASUVORK5CYII="},79:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAMCAYAAACEJVa/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF+mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA1LTE1VDE2OjQxOjU5LTAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTE1VDE2OjQxOjU5LTAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0xNVQxNjo0MTo1OS0wMzowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5YTg2NjNiMi1mOWFjLTRjNDMtOTU5Yy0xZWRlNjRkYTFlOGQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkMGUzYzMzNC02MGRmLTdkNGEtODI4Ni1hNGMxM2IyNDliOWYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxMjcwNDMzNy0xMmVjLTlhNDQtYWI5Ni0zZGI1OTE3M2ZhM2UiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjEyNzA0MzM3LTEyZWMtOWE0NC1hYjk2LTNkYjU5MTczZmEzZSIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0xNVQxNjo0MTo1OS0wMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5YTg2NjNiMi1mOWFjLTRjNDMtOTU5Yy0xZWRlNjRkYTFlOGQiIHN0RXZ0OndoZW49IjIwMjAtMDUtMTVUMTY6NDE6NTktMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6wqmo+AAAA5klEQVQoz42TQRKCMAxFex/Y4Qw9AezphWCP5+ESupWlbPQMWp2J/ampLRbHxe+k0+TlNxRFRCqnrm5oLaMbyuVmi41uyc57p5HFe2tZOP8J6VwnX7yn+7RjoUgAorWjxIE9jXSbqjegCpD5ekicrEG8wC4KPgAfQzibL39AwvC0DLBNgN7NMblSPBuVu7Mkxa7Q2URNpDFDDA9zTCFujwS5EuKnVqxHrUIM4ezrTXAXB16Gkpa+DABxkeSJk/jrLH0RilmDFwCxA4lluJmH1tAZMAYVQejs59IGV5svNobFhVu/B/QCuhobex4SgFIAAAAASUVORK5CYII="},80:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAMCAYAAACEJVa/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF+mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA1LTE1VDE2OjQwOjQ4LTAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTE1VDE2OjQwOjQ4LTAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0xNVQxNjo0MDo0OC0wMzowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozMTJhYzhjOC0yYTY3LTA2NGItOGE5Ni01MmM5OGM5M2ZkOTIiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyMTg4NGJmMS1mODZhLTcwNDctOGZiNi0zYmJiODBmYTczZDIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0YTAyNDdkOS1hZTlkLTJhNGEtYTIzNy02YTFiNTdjNzFlZTgiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjRhMDI0N2Q5LWFlOWQtMmE0YS1hMjM3LTZhMWI1N2M3MWVlOCIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0xNVQxNjo0MDo0OC0wMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozMTJhYzhjOC0yYTY3LTA2NGItOGE5Ni01MmM5OGM5M2ZkOTIiIHN0RXZ0OndoZW49IjIwMjAtMDUtMTVUMTY6NDA6NDgtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz57GZEPAAAA20lEQVQoz32TTRKCMAyFex/d6QycgO7xQrjH83AJ17Jl5RmkOlP7EkLTH128ybQkX1/TYLz3pqa+6Tx0aSFLEetabrEhRW4eg24UUeycI+H7XwglP7j4NZ38Op0ZuAFEuaPtdEvJfcv2USwQFMzPe+KEo91BRja1sBed5BBbuDE1u5IsjnI3dQgaqCFhLddaA0RA+UsJaH8RbuhIUfcFQuGnNYneDUeAiqdFXIajX65Bw4GSJDm66ZK5SSBceFQQjoDLyVoyM+WUZk4iKDrR/ahOrB55fYVfvwf0BWryIViMtlMNAAAAAElFTkSuQmCC"},81:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAAA4CAIAAADmTySgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF+mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA1LTE1VDE2OjQzOjAzLTAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTE1VDE2OjQzOjAzLTAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNS0xNVQxNjo0MzowMy0wMzowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNWJhZDRmZi1jNDEzLTQ0NDMtOTYxOC03OGQwMDNlYjUyODkiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDphMTZmMjFhNC03Y2Y5LTUxNGMtYWY3Yi1jZTRjNTQ2OTUyMTciIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmOTNhOTE3Ny01ZjRkLWJlNGEtODdlOC1kNjE2OGRiZGFiMDYiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmY5M2E5MTc3LTVmNGQtYmU0YS04N2U4LWQ2MTY4ZGJkYWIwNiIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0xNVQxNjo0MzowMy0wMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoyNWJhZDRmZi1jNDEzLTQ0NDMtOTYxOC03OGQwMDNlYjUyODkiIHN0RXZ0OndoZW49IjIwMjAtMDUtMTVUMTY6NDM6MDMtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4vmmHUAAAO4klEQVR42pWcO3IcSQ6G6yorf+XO3GBoSJ4Uob7G7AFWttbNtHZ86hTcY4BWpTHTvITGWJLVXZ0Avh9FRXR0FIvZqHzg+QOo5dMvv33+9e7zr79tF8/f22e7k27ehTHzsAuR7fry37tAbfrh3faTneZ1DmHYfv9uuoapTjNxY2bi86PnOdPS7gKp62Tu/JTuaJcchc+/xJ3cb070f8ur+0xL2+cw73+gkx535zf/ZdrLX3//5/nz54+X77/m75eb356vX77/vtzZ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"},82:function(e,t,n){e.exports=n.p+"static/media/pole-balancing.5027a009.svg"},83:function(e,t,n){e.exports=n.p+"static/media/birdGame.215e76f0.png"},84:function(e,t,n){e.exports=n.p+"static/media/dice.aff815a0.svg"},85:function(e,t,n){e.exports=n.p+"static/media/NES.bf70de11.png"},97:function(e,t,n){e.exports=n(131)}},[[97,1,2]]]);
//# sourceMappingURL=main.4d3d86e6.chunk.js.map